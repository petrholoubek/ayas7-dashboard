<!DOCTYPE html>
<html lang="cs">
<head>
 <meta charset="UTF-8" />
 <title>AYAS-7 – Prezentace výnosů & scénářů</title>
 <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- FAVICON / PWA -->
  <link rel="icon" type="image/png" sizes="192x192" href="/ayas7-192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="/ayas7-512.png">
  <link rel="apple-touch-icon" href="/ayas7-192.png">
  <meta name="theme-color" content="#020617">

  <title>AYAS-7 · …</title>
 <style>
   :root {
     --blue-dark: #0a1a33;
     --blue-mid:  #124c99;
     --blue-light:#4fa3ff;
     --accent:    #22c55e;
     --text-main: #e5e7eb;
     --text-muted:#9ca3af;
     --card-bg:   #0b1220;
     --border-soft: rgba(148,163,184,0.45);
   }

   * {
     margin: 0;
     padding: 0;
     box-sizing: border-box;
   }

   html, #msg_body {
     width: 100%;
     height: 100%;
     font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
     background: radial-gradient(circle at 40% 0%, #0f172a 0%, #020617 55%, #000 100%);
     color: var(--text-main);
     overflow-x: hidden;
   }

   a {
     color: inherit;
     text-decoration: none;
   }

   /* TOPBAR – stejné menu jako hlavní stránky */
   header.topbar {
     background: linear-gradient(to right, #020617, #020617);
     border-bottom: 1px solid rgba(15,23,42,0.9);
     box-shadow: 0 18px 40px rgba(15,23,42,0.9);
     position: sticky;
     top: 0;
     z-index: 40;
   }

   .topbar-inner {
     max-width: 1200px;
     margin: 0 auto;
     padding: 10px 16px;
     display: flex;
     align-items: center;
     justify-content: space-between;
     gap: 24px;
   }

   .brand {
     display: flex;
     flex-direction: column;
     gap: 2px;
   }

   .brand-text-main {
     font-size: 18px;
     font-weight: 600;
     letter-spacing: 0.08em;
     text-transform: uppercase;
     color: #e5e7eb;
   }

   .brand-text-sub {
     font-size: 11px;
     letter-spacing: 0.18em;
     text-transform: uppercase;
     color: rgba(148,163,184,0.9);
   }

   nav.main-nav {
     flex: 1;
     display: flex;
     justify-content: center;
   }

   .nav-list {
     list-style: none;
     display: flex;
     gap: 18px;
     font-size: 14px;
   }

   .nav-link {
     position: relative;
     padding: 4px 0;
     color: rgba(226,232,240,0.9);
     white-space: nowrap;
     transition: color 0.18s ease;
   }

   .nav-link::after {
     content: "";
     position: absolute;
     left: 0;
     bottom: -3px;
     width: 0;
     height: 2px;
     border-radius: 999px;
     background: linear-gradient(to right, var(--accent), #4ade80);
     transition: width 0.22s ease;
   }

   .nav-link:hover {
     color: #ffffff;
   }

   .nav-link:hover::after {
     width: 100%;
   }

   .nav-link.active {
     color: #ffffff;
     font-weight: 600;
   }

   .nav-link.active::after {
     width: 100%;
   }

   .topbar-right {
     display: flex;
     align-items: center;
     gap: 16px;
     flex-shrink: 0;
   }

   .lang-switch {
     font-size: 12px;
     letter-spacing: 0.12em;
     text-transform: uppercase;
     color: rgba(226,232,240,0.8);
     display: flex;
     gap: 6px;
   }

   .lang-switch span {
     cursor: pointer;
     opacity: 0.65;
   }

   .lang-switch span.active {
     opacity: 1;
     font-weight: 600;
     text-decoration: underline;
     text-underline-offset: 3px;
   }

   .lang-sep { opacity: 0.4; }

   .btn-login {
     padding: 6px 16px;
     border-radius: 999px;
     border: 1px solid rgba(226,232,240,0.6);
     background: radial-gradient(circle at top left, #0b1120, #020617);
     color: #f9fafb;
     font-size: 13px;
     font-weight: 500;
     cursor: pointer;
     display: inline-flex;
     align-items: center;
     gap: 8px;
     transition: background 0.18s ease, border-color 0.18s ease, transform 0.12s ease;
   }

   .btn-login span.dot {
     width: 8px;
     height: 8px;
     border-radius: 999px;
     background: var(--accent);
     box-shadow: 0 0 10px rgba(34,197,94,0.9);
   }

   .btn-login:hover {
     background: rgba(15,23,42,0.9);
     border-color: #ffffff;
     transform: translateY(-1px);
   }

   /* MAIN LAYOUT */
   main {
     min-height: calc(100vh - 80px - 50px);
     padding: 28px 16px 40px;
     display: flex;
     justify-content: center;
   }

   .page-inner {
     max-width: 1200px;
     width: 100%;
   }

   .page-header {
     margin-bottom: 24px;
   }

   .page-kicker {
     font-size: 12px;
     text-transform: uppercase;
     letter-spacing: 0.14em;
     color: var(--text-muted);
     margin-bottom: 6px;
     display: inline-flex;
     align-items: center;
     gap: 6px;
   }

   .page-kicker-dot {
     width: 7px;
     height: 7px;
     border-radius: 999px;
     background: var(--accent);
     box-shadow: 0 0 8px rgba(34,197,94,1);
   }

   .page-title {
     font-size: 24px;
     font-weight: 600;
     margin-bottom: 6px;
   }

   .page-subtitle {
     font-size: 13px;
     color: var(--text-muted);
     max-width: 720px;
     line-height: 1.6;
   }

   .columns {
     display: flex;
     gap: 20px;
     align-items: flex-start;
     flex-wrap: wrap;
   }

   .col-main {
     flex: 1.4;
     min-width: 0;
   }

   .col-side {
     flex: 1;
     min-width: 0;
   }

   /* KARTY – FINTECH STYL */
   .card {
     background: radial-gradient(circle at top left, #0b1120, #020617 70%);
     border-radius: 18px;
     border: 1px solid rgba(51,65,85,0.9);
     box-shadow:
       0 24px 60px rgba(15,23,42,0.9),
       0 0 0 1px rgba(15,23,42,1);
     padding: 18px 18px 16px;
     position: relative;
     overflow: hidden;
     margin-bottom: 18px;
   }

   .card::before {
     content: "";
     position: absolute;
     inset: 0;
     background: radial-gradient(circle at top right, rgba(79,172,255,0.18), transparent 65%);
     opacity: 0.9;
     pointer-events: none;
   }

   .card-inner {
     position: relative;
     z-index: 2;
   }

   .card-led-bar {
     position: absolute;
     top: 0;
     left: 0;
     right: 0;
     height: 3px;
     background: linear-gradient(to right, #4fa3ff, #22c55e);
     opacity: 0.95;
   }

   .card-badge {
     display: inline-flex;
     align-items: center;
     gap: 6px;
     padding: 2px 10px;
     border-radius: 999px;
     border: 1px solid rgba(148,163,184,0.5);
     font-size: 11px;
     color: var(--text-muted);
     margin-bottom: 10px;
     background: rgba(15,23,42,0.7);
   }

   .card-badge-dot {
     width: 7px;
     height: 7px;
     border-radius: 999px;
     background: var(--accent);
     box-shadow: 0 0 10px rgba(34,197,94,1);
   }

   .card-title {
     font-size: 18px;
     font-weight: 600;
     margin-bottom: 6px;
   }

   .card-sub {
     font-size: 12px;
     color: var(--text-muted);
     margin-bottom: 12px;
     line-height: 1.6;
   }

   .card-section-title {
     font-size: 13px;
     font-weight: 600;
     margin: 10px 0 4px;
   }

   /* OVLÁDÁNÍ SCÉNÁŘŮ */
   .controls-grid {
     display: grid;
     grid-template-columns: repeat(2, minmax(0, 1fr));
     gap: 16px;
     margin-bottom: 12px;
   }

   .control-group {
     font-size: 12px;
     color: var(--text-muted);
   }

   .control-label {
     display: flex;
     justify-content: space-between;
     margin-bottom: 4px;
   }

   .control-label span.value {
     color: var(--text-main);
     font-weight: 500;
   }

   input[type="range"] {
     width: 100%;
     accent-color: var(--blue-light);
   }

   .scenario-grid {
     display: grid;
     grid-template-columns: repeat(3, minmax(0, 1fr));
     gap: 12px;
     margin-top: 10px;
   }

   .scenario-card {
     background: rgba(15,23,42,0.85);
     border-radius: 12px;
     border: 1px solid rgba(51,65,85,0.9);
     padding: 10px 10px 8px;
     font-size: 12px;
   }

   .scenario-header {
     display: flex;
     align-items: center;
     justify-content: space-between;
     margin-bottom: 4px;
   }

   .scenario-rate {
     font-weight: 600;
   }

   .scenario-chip {
     padding: 2px 8px;
     border-radius: 999px;
     border: 1px solid rgba(148,163,184,0.6);
     font-size: 10px;
     color: var(--text-muted);
     display: inline-flex;
     align-items: center;
     gap: 4px;
   }

   .scenario-chip-dot {
     width: 6px;
     height: 6px;
     border-radius: 999px;
     background: var(--blue-light);
     box-shadow: 0 0 8px rgba(79,163,255,0.9);
   }

   .scenario-main-value {
     font-size: 14px;
     font-weight: 600;
     margin-bottom: 2px;
   }

   .scenario-multiple {
     font-size: 11px;
     color: var(--text-muted);
   }

   /* GRAF */
   .chart-wrap {
     margin-top: 8px;
     border-radius: 14px;
     border: 1px solid rgba(31,41,55,0.9);
     background: radial-gradient(circle at top left, #020617, #020617 75%);
     padding: 8px 8px 10px;
   }

   .chart-header {
     display: flex;
     justify-content: space-between;
     align-items: center;
     margin-bottom: 4px;
     font-size: 11px;
     color: var(--text-muted);
   }

   canvas#growthChart {
     width: 100%;
     height: 220px;
     display: block;
   }

   /* BOČNÍ SCÉNÁŘE & TEXTY */
   .highlight-number {
     font-size: 18px;
     font-weight: 600;
     margin-bottom: 4px;
   }

   .highlight-label {
     font-size: 12px;
     color: var(--text-muted);
     margin-bottom: 8px;
   }

   .pill-row {
     display: flex;
     flex-wrap: wrap;
     gap: 6px;
     margin-top: 6px;
   }

   .pill {
     padding: 3px 8px;
     border-radius: 999px;
     border: 1px solid rgba(148,163,184,0.6);
     font-size: 11px;
     color: var(--text-muted);
     display: inline-flex;
     align-items: center;
     gap: 5px;
   }

   .pill-dot {
     width: 6px;
     height: 6px;
     border-radius: 999px;
     background: var(--accent);
     box-shadow: 0 0 8px rgba(34,197,94,0.9);
   }

   .legal-text {
     font-size: 11px;
     color: var(--text-muted);
     line-height: 1.7;
     margin-top: 6px;
   }

   footer {
     text-align: center;
     padding: 10px 16px 16px;
     font-size: 11px;
     color: var(--text-muted);
   }

   @media (max-width: 900px) {
     .columns {
       flex-direction: column;
     }
   }

   @media (max-width: 640px) {
     .topbar-inner {
       flex-direction: column;
       align-items: flex-start;
       gap: 8px;
     }
     nav.main-nav {
       width: 100%;
       justify-content: flex-start;
     }
     .nav-list {
       flex-wrap: wrap;
       row-gap: 4px;
       font-size: 13px;
     }
     .topbar-right {
       width: 100%;
       justify-content: space-between;
     }
     .scenario-grid {
       grid-template-columns: 1fr;
     }
   }
 </style>
</head>
<body>

<header class="topbar">
 <div class="topbar-inner">

   <div class="brand">
     <div class="brand-text-main">AYAS-7 ENGINE</div>
     <div class="brand-text-sub">WIN-WIN COOPERATIVE</div>
   </div>

   <nav class="main-nav" aria-label="Hlavní menu">
     <ul class="nav-list">
       <li><a href="dashboard.html"  class="nav-link">Home</a></li>
       <li><a href="members.html"    class="nav-link">Členové</a></li>
       <li><a href="payments.html"   class="nav-link">Platby</a></li>
       <li><a href="performance.html" class="nav-link">Výkon &amp; výnos</a></li>
       <li><a href="fintech.html"    class="nav-link">FinTech</a></li>
     </ul>
   </nav>

   <div class="topbar-right">
     <div class="lang-switch">
       <span class="active">CZ</span>
       <span class="lang-sep">|</span>
       <span>EN</span>
     </div>
     <a href="login.html">
       <button type="button" class="btn-login">
         <span class="dot"></span>
         <span>Login</span>
       </button>
     </a>
   </div>

 </div>
</header>

<main>
 <div class="page-inner">

   <div class="page-header">
     <div class="page-kicker">
       <span class="page-kicker-dot"></span>
       Prezentace výnosů · Scénáře · Demo
     </div>
     <div class="page-title">Modelové zhodnocení kapitálu v enginu AYAS-7</div>
     <div class="page-subtitle">
       Tato stránka slouží jako <b>prezentační nástroj</b> pro jednání s členy a investory.
       Všechny výnosy jsou pouze <b>modelové</b> (např. 4–6&nbsp;% měsíčně) a nesmí být chápány
       jako garance. V ostrém režimu bude engine napojen na reálná data.
     </div>
   </div>

   <div class="columns">
     
     <div class="col-main">

       <section class="card">
         <div class="card-led-bar"></div>
         <div class="card-inner">

           <div class="card-badge">
             <span class="card-badge-dot"></span>
             Interaktivní scénáře · Demo
           </div>
           <div class="card-title">Nastav kapitál a horizont · sleduj tři výnosové scénáře</div>
           <div class="card-sub">
             Prezentace ukazuje, jak by se mohl vyvíjet kapitál v enginu AYAS-7 při
             modelovém měsíčním výnosu <b>4 %, 5 % a 6 %</b>. Jedná se o
             <b>dlouhodobé cílové pásmo</b>, nikoli garantovaný výsledek.
           </div>

           <div class="controls-grid">
             <div class="control-group">
               <div class="control-label">
                 <span>Počáteční kapitál</span>
                 <span class="value"><span id="capitalDisplay">10 000</span> EUR</span>
               </div>
               <input type="range" id="capitalSlider" min="2000" max="50000" step="1000" value="10000">
             </div>
             <div class="control-group">
               <div class="control-label">
                 <span>Investiční horizont</span>
                 <span class="value"><span id="monthsDisplay">36</span> měsíců</span>
               </div>
               <input type="range" id="monthsSlider" min="6" max="60" step="6" value="36">
             </div>
           </div>

           <div class="scenario-grid">
             <div class="scenario-card" id="scenario4">
               <div class="scenario-header">
                 <div class="scenario-rate">Scénář A · 4 % / měs.</div>
                 <div class="scenario-chip">
                   <span class="scenario-chip-dot"></span>
                   konzervativnější
                 </div>
               </div>
               <div class="scenario-main-value" id="final4">–</div>
               <div class="scenario-multiple" id="multiple4">–</div>
             </div>

             <div class="scenario-card" id="scenario5">
               <div class="scenario-header">
                 <div class="scenario-rate">Scénář B · 5 % / měs.</div>
                 <div class="scenario-chip">
                   <span class="scenario-chip-dot"></span>
                   cílové pásmo
                 </div>
               </div>
               <div class="scenario-main-value" id="final5">–</div>
               <div class="scenario-multiple" id="multiple5">–</div>
             </div>

             <div class="scenario-card" id="scenario6">
               <div class="scenario-header">
                 <div class="scenario-rate">Scénář C · 6 % / měs.</div>
                 <div class="scenario-chip">
                   <span class="scenario-chip-dot"></span>
                   dynamický růst
                 </div>
               </div>
               <div class="scenario-main-value" id="final6">–</div>
               <div class="scenario-multiple" id="multiple6">–</div>
             </div>
           </div>

           <div class="chart-wrap">
             <div class="chart-header">
               <span>Křivka růstu kapitálu (komponovaný měsíční výnos)</span>
               <span id="chartLegend" style="font-size:11px;">
                 A: 4&nbsp;% · B: 5&nbsp;% · C: 6&nbsp;%
               </span>
             </div>
             <canvas id="growthChart"></canvas>
           </div>

         </div>
       </section>

     </div>

     
     <div class="col-side">

       <section class="card">
         <div class="card-led-bar"></div>
         <div class="card-inner">
           <div class="card-badge">
             <span class="card-badge-dot"></span>
             Shrnutí scénářů
           </div>
           <div class="card-title">Co ukazuje tato prezentace</div>
           <div class="card-sub">
             Stránka je navržena tak, aby během jednání bylo <b>okamžitě vidět</b>,
             jak se mění cílové částky podle délky trvání a zvoleného scénáře.
           </div>

           <div class="highlight-number" id="highlightMain">–</div>
           <div class="highlight-label" id="highlightLabel">
             Vyber výchozí parametr posuvníky vlevo.
           </div>

           <div class="card-section-title">Jak prezentovat 4–6 % měsíčně</div>
           <div class="legal-text">
             • Výnosy 4–6&nbsp;% měsíčně jsou zde <b>modelovým cílem enginu</b> AYAS-7
             v delším časovém horizontu (např. 24–36 měsíců).<br>
             • Nejde o garantovaný výsledek ani závazný příslib – vždy záleží na
             reálných trzích, likviditě a parametrech motoru.<br>
             • V prezentaci je vhodné zdůraznit, že se jedná o <b>scénáře „co kdyby“</b>,
             nikoli o právně vymahatelný závazek.
           </div>

           <div class="pill-row">
             <div class="pill">
               <span class="pill-dot"></span>
               Modelový engine, ne jistina
             </div>
             <div class="pill">
               <span class="pill-dot"></span>
               Horizont 24–36 měsíců
             </div>
             <div class="pill">
               <span class="pill-dot"></span>
               Scénáře A/B/C
             </div>
           </div>
         </div>
       </section>

       <section class="card">
         <div class="card-led-bar"></div>
         <div class="card-inner">
           <div class="card-badge">
             <span class="card-badge-dot"></span>
             Právní rámec &amp; upozornění
           </div>
           <div class="card-title">Regulace, odpovědnost a způsob prezentace</div>
           <div class="card-sub">
             Tato stránka je připravená tak, aby prezentovala systém srozumitelně,
             ale zároveň korektně vůči regulaci a právním požadavkům.
           </div>

           <div class="legal-text">
             • Tento materiál <b>není investičním poradenstvím</b>, veřejnou nabídkou
             investičních nástrojů ani prospektem podle kapitálových trhů.<br>
             • Ukázky výnosů a scénářů mají čistě <b>ilustrační a vzdělávací charakter</b> –
             skutečné výsledky se mohou lišit a nejsou nijak garantovány.<br>
             • Konečné posouzení, zda konkrétní struktura spolupráce družstva,
             enginu AYAS-7 a tokenů podléhá regulaci (ČNB / jiný dohled), musí vždy
             provést <b>samostatný právní a regulatorní poradce</b> podle platných zákonů.<br>
             • Systém je koncipován tak, aby mohl fungovat v rámci družstevního modelu
             a interních pravidel Win-Win – právní nastavení se ale vždy opírá
             o oficiální právní stanovisko.
           </div>

           <div class="pill-row">
             <div class="pill">
               <span class="pill-dot"></span>
               Nejde o veřejnou nabídku
             </div>
             <div class="pill">
               <span class="pill-dot"></span>
               Ilustrační scénáře výnosu
             </div>
             <div class="pill">
               <span class="pill-dot"></span>
               Doporučená právní analýza
             </div>
           </div>

         </div>
       </section>

     </div>
   </div>

 </div>
</main>

<footer>
 © 2025 Win-Win Družstvo · AYAS-7 Engine · Prezentace výnosů (demo prostředí)
</footer>

<script>
 const capitalSlider = document.getElementById('capitalSlider');
 const monthsSlider  = document.getElementById('monthsSlider');
 const capitalDisplay = document.getElementById('capitalDisplay');
 const monthsDisplay  = document.getElementById('monthsDisplay');

 const final4 = document.getElementById('final4');
 const final5 = document.getElementById('final5');
 const final6 = document.getElementById('final6');
 const multiple4 = document.getElementById('multiple4');
 const multiple5 = document.getElementById('multiple5');
 const multiple6 = document.getElementById('multiple6');

 const highlightMain  = document.getElementById('highlightMain');
 const highlightLabel = document.getElementById('highlightLabel');

 const canvas = document.getElementById('growthChart');
 const ctx = canvas.getContext('2d');

 function formatMoney(value) {
   return value.toLocaleString('cs-CZ', {
     minimumFractionDigits: 0,
     maximumFractionDigits: 0
   }) + ' EUR';
 }

 function formatMultiple(mult) {
   return mult.toLocaleString('cs-CZ', {
     minimumFractionDigits: 2,
     maximumFractionDigits: 2
   }) + '× vstupní kapitál';
 }

 function computeScenario(capital, months, rate) {
   const finalVal = capital * Math.pow(1 + rate, months);
   return finalVal;
 }

 function updateScenarios() {
   const capital = Number(capitalSlider.value);
   const months  = Number(monthsSlider.value);

   capitalDisplay.textContent = capital.toLocaleString('cs-CZ');
   monthsDisplay.textContent  = months.toString();

   // Výpočty
   const f4 = computeScenario(capital, months, 0.04);
   const f5 = computeScenario(capital, months, 0.05);
   const f6 = computeScenario(capital, months, 0.06);

   final4.textContent = formatMoney(f4);
   final5.textContent = formatMoney(f5);
   final6.textContent = formatMoney(f6);

   multiple4.textContent = formatMultiple(f4 / capital);
   multiple5.textContent = formatMultiple(f5 / capital);
   multiple6.textContent = formatMultiple(f6 / capital);

   // Highlight – scénář B (5 %)
   highlightMain.textContent = formatMoney(f5);
   highlightLabel.textContent =
     'Modelový scénář B (5 % / měsíc) po ' + months +
     ' měsících zhodnotí ' + capital.toLocaleString('cs-CZ') +
     ' EUR na tuto cílovou částku (ilustrační údaj).';

   drawChart(capital, months);
 }

 function drawChart(capital, months) {
   const width  = canvas.clientWidth;
   const height = canvas.clientHeight;
   canvas.width  = width * window.devicePixelRatio;
   canvas.height = height * window.devicePixelRatio;
   ctx.setTransform(window.devicePixelRatio, 0, 0, window.devicePixelRatio, 0, 0);

   ctx.clearRect(0, 0, width, height);

   // Vygeneruj body pro tři scénáře
   function genPoints(rate) {
     const pts = [];
     for (let m = 0; m <= months; m++) {
       const val = computeScenario(capital, m, rate);
       pts.push({ m, val });
     }
     return pts;
   }

   const pts4 = genPoints(0.04);
   const pts5 = genPoints(0.05);
   const pts6 = genPoints(0.06);

   const allVals = pts4.concat(pts5, pts6).map(p => p.val);
   const minVal = Math.min(...allVals);
   const maxVal = Math.max(...allVals);

   const leftPad = 30;
   const rightPad = 10;
   const topPad = 10;
   const bottomPad = 20;

   function xScale(m) {
     return leftPad + (m / months) * (width - leftPad - rightPad);
   }

   function yScale(v) {
     if (maxVal === minVal) return height - bottomPad;
     const t = (v - minVal) / (maxVal - minVal);
     return height - bottomPad - t * (height - topPad - bottomPad);
   }

   // Osy – jednoduchá linka
   ctx.strokeStyle = 'rgba(55,65,81,0.9)';
   ctx.lineWidth = 1;
   ctx.beginPath();
   ctx.moveTo(leftPad, topPad);
   ctx.lineTo(leftPad, height - bottomPad);
   ctx.lineTo(width - rightPad, height - bottomPad);
   ctx.stroke();

   function drawLine(points, color) {
     ctx.beginPath();
     points.forEach((p, idx) => {
       const x = xScale(p.m);
       const y = yScale(p.val);
       if (idx === 0) ctx.moveTo(x, y);
       else ctx.lineTo(x, y);
     });
     ctx.strokeStyle = color;
     ctx.lineWidth = 1.6;
     ctx.stroke();
   }

   drawLine(pts4, 'rgba(96,165,250,0.8)'); // modrá
   drawLine(pts5, 'rgba(52,211,153,0.85)'); // zelená
   drawLine(pts6, 'rgba(248,250,252,0.9)'); // světlá křivka

   // Svítící tečky na konci křivek
   function drawEndDot(point, color) {
     const x = xScale(point.m);
     const y = yScale(point.val);
     ctx.beginPath();
     ctx.arc(x, y, 4, 0, Math.PI * 2);
     ctx.fillStyle = color;
     ctx.fill();
     ctx.beginPath();
     ctx.arc(x, y, 7, 0, Math.PI * 2);
     ctx.strokeStyle = color.replace('0.9', '0.35').replace('0.8','0.35');
     ctx.lineWidth = 1;
     ctx.stroke();
   }

   drawEndDot(pts4[pts4.length - 1], 'rgba(96,165,250,0.9)');
   drawEndDot(pts5[pts5.length - 1], 'rgba(52,211,153,0.9)');
   drawEndDot(pts6[pts6.length - 1], 'rgba(248,250,252,0.9)');
 }

 capitalSlider.addEventListener('input', updateScenarios);
 monthsSlider.addEventListener('input', updateScenarios);

 // Inicializace
 updateScenarios();
 window.addEventListener('resize', () => updateScenarios());
</script>
<script type="module">
import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";

const supabase = createClient(
  "https://azfrniqqtetoqploxwgq.supabase.co",
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF6ZnJuaXFxdGV0b3FwbG94d2dxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc3MzQ1OTYsImV4cCI6MjA4MzMxMDU5Nn0.QchmzNhs8owd6pkjZCk04u6PJoJ2Bhzz7oGV0KFyqdU"
);

let checked = false;

supabase.auth.onAuthStateChange((event, session) => {
  // vyhodnocuj jen jednou
  if (checked) return;

  // dokud neexistuje session, NErozhoduj
  if (!session) return;

  checked = true;

  // kontrola role
  if (session.user.app_metadata?.role !== "admin") {
    location.replace("/signin.html");
  }
});
</script>

</body>
</html>
