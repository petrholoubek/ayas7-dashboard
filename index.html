<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<title>AYAS-7 Engine Dashboard</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  body { font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif; background:#eef2f5; margin:0; padding:0; }
  header { background:#003063; color:#fff; padding:15px 40px; display:flex; justify-content:space-between; align-items:center; }
  header h1 { margin:0; font-size:1.8em; }
  nav button { margin-left:10px; padding:6px 12px; font-weight:600; cursor:pointer; border:none; border-radius:5px; background:#1da84f; color:#fff; }
  #dashboard { display:flex; gap:20px; width:1200px; margin:20px auto; }
  .column { display:flex; flex-direction:column; gap:20px; width:50%; }
  .box { background:#fff; padding:20px; border-radius:12px; box-shadow:0 4px 16px rgba(0,0,0,0.12); }
  .box-title { font-size:1.2em; font-weight:800; margin-bottom:10px; color:#003063; display:flex; align-items:center; gap:10px; }
  .box-desc { margin-bottom:15px; color:#444; }
  .token { display:inline-block; padding:6px 12px; border-radius:6px; color:#fff; margin-right:6px; font-size:0.9em; }
  .usd { background:#1da84f; }
  .gusd { background:#0066ff; }
  .ww { background:#d10000; }
  canvas { background:#f9f9f9; border-radius:8px; margin-top:10px; }
  input[type=number], input[type=text] { padding:5px; width:120px; margin-right:10px; }
  button.pay { background:#0066ff; color:#fff; }
  footer { text-align:center; padding:15px; background:#003063; color:#fff; margin-top:20px; }
  .member-entry { padding:6px 0; border-bottom:1px solid #ddd; }
</style>
</head>
<body>

<header>
  <h1>AYAS-7 Engine</h1>
  <nav>
    <button onclick="window.location.href='#layer1'">Token Layer</button>
    <button onclick="window.location.href='#layer2'">Liquidity Engine</button>
    <button onclick="window.location.href='#layer3'">Yield Routing</button>
    <button onclick="window.location.href='#layer4'">Risk & Compliance</button>
    <button onclick="window.location.href='#layer5'">FinTech</button>
    <button onclick="window.location.href='#layer6'">Core Engine</button>
    <button onclick="window.location.href='#layer7'">Dashboard</button>
    <button onclick="window.location.href='member-dashboard.html'">Members</button>
    <button onclick="window.open('https://winwin.coop/#ww-onb','_blank')">Win-Win</button>
  </nav>
</header>

<div id="dashboard">

  <!-- Levá část – vrstvy motoru -->
  <div class="column" id="motor-column"></div>

  <!-- Pravá část – členská databáze a DEX/kurzy -->
  <div class="column" id="function-column"></div>

</div>

<footer>© 2025 Win-Win Cooperative, All rights reserved.</footer>

<script>
// ====== Levá část ======
const layers = [
  {id:'layer1', name:"Token Layer", desc:"Správa páru USDt.z/GUSD a sledování ceny likvidity.", img:"assets/1.png"},
  {id:'layer2', name:"Liquidity Engine", desc:"Reálná data z DEX/BSC, hloubka poolů, objemy a stabilita.", img:"assets/2.png"},
  {id:'layer3', name:"Yield Routing", desc:"Směrování výnosů, optimalizace a distribuce.", img:"assets/3.png"},
  {id:'layer4', name:"Risk & Compliance", desc:"Kontrola volatility, bezpečnost a auditní stopa.", img:"assets/4.png"},
  {id:'layer5', name:"FinTech Interaction", desc:"Interakce s uživateli, reporting a provozní vrstva.", img:"assets/5.png"},
  {id:'layer6', name:"Core Engine", desc:"Výpočetní AYAS jádro – výkon podle likvidity a WW-KEY.", img:"assets/6.png"},
  {id:'layer7', name:"Dashboard & Analytics", desc:"Kompletní vizualizace ekosystému.", img:"assets/7.png"}
];

const motorColumn = document.getElementById('motor-column');
layers.forEach((layer,index)=>{
  const box = document.createElement('div');
  box.className='box';
  box.id = layer.id;
  box.innerHTML=`
    <div class='box-title'><img src='${layer.img}' width='50' alt='${layer.name}'> ${layer.name}</div>
    <div class='box-desc'>${layer.desc}</div>
    <canvas id='motor-chart-${index}' height='100'></canvas>
  `;
  motorColumn.appendChild(box);
  const ctx = document.getElementById(`motor-chart-${index}`).getContext('2d');
  new Chart(ctx,{
    type:'line',
    data:{
      labels:['T1','T2','T3','T4','T5'],
      datasets:[
        { label:'USDt.z', data:[12000+Math.random()*5000,15000+Math.random()*4000,17000+Math.random()*6000,21000+Math.random()*5000,25000+Math.random()*4000], borderColor:'#1da84f', backgroundColor:'rgba(29,168,79,0.2)', tension:0.4, fill:true },
        { label:'GUSD', data:[8000+Math.random()*3000,9000+Math.random()*2000,12000+Math.random()*3000,14000+Math.random()*4000,16000+Math.random()*3000], borderColor:'#0066ff', backgroundColor:'rgba(0,102,255,0.2)', tension:0.4, fill:true }
      ]
    },
    options:{ responsive:true, plugins:{ legend:{ position:'top' } }, scales:{ y:{ beginAtZero:true } } }
  });
});

// ====== Pravá část ======
const functionColumn = document.getElementById('function-column');
const CURZ_KCZ_USD = 24.5;
const MONTHLY_YIELD = 0.05;
let members = [];

function createRightBox(title, innerHTML){
  const box = document.createElement('div');
  box.className='box';
  box.innerHTML=`<div class='box-title'>${title}</div>${innerHTML}`;
  functionColumn.appendChild(box);
}

// 1. Live DEX / Smart Contracts
createRightBox('Live DEX & Smart Contracts', `
  <p>USDt.z: <a href="https://bscscan.com/address/YOUR_USDTZ_CONTRACT" target="_blank">BSC</a></p>
  <p>GUSD: <a href="https://bscscan.com/address/YOUR_GUSD_CONTRACT" target="_blank">BSC</a></p>
`);

// 2. Kurzy měn
createRightBox('Exchange Rates', `
  <p>EUR/USD: 1.08</p>
  <p>USD/CZK: 24.5</p>
`);

// 3. Platba člena – flexibilní
createRightBox('Member Payment (Flexible)', `
  <input type='number' id='pay-amount' placeholder='Amount'><br><br>
  <button class='pay' onclick='processPayment()'>Pay & Receive WW-KEY</button>
`);

// 4. Osobní měsíční výnos
createRightBox('Personal Monthly Yield', `<div id='member-yield'></div>`);

// 5. Celkový výnos motoru
createRightBox('Total Win-Win Yield', `<canvas id='total-volume-chart' height='100'></canvas>`);

// 6. Statistiky členů
createRightBox('Member Statistics', `<div id='member-list'></div>`);

// 7. Odkazy a integrace
createRightBox('Links & Integration', `
  <p><a href="https://www.pancakeswap.finance/" target="_blank">PancakeSwap</a></p>
  <p><a href="https://metamask.io/" target="_blank">MetaMask</a></p>
  <p><a href="https://winwin.coop/" target="_blank">Win-Win Cooperative</a></p>
`);

// ====== Funkce pro platby a členy ======
function processPayment(){
  const amt = Number(document.getElementById('pay-amount').value);
  if(!amt) return alert('Enter an amount');
  const wwKey = Math.round(amt / CURZ_KCZ_USD);
  alert(`Member received ${wwKey} WW-KEY`);
  // Tady doplnit backend / logiku pro uložení člena a platby
}

function renderMembers(){
  document.getElementById('member-list').innerHTML = members.map(m=>`${m.name}: ${m.czk} CZK → ${m.ww} WW-KEY`).join('<br>');
}

function renderTotalVolume(){
  const ctx = document.getElementById('total-volume-chart').getContext('2d');
  new Chart(ctx,{
    type:'bar',
    data:{ labels:['T1','T2','T3','T4','T5'], datasets:[
      { label:'Total Volume', data:[50000,60000,55000,65000,70000], backgroundColor:'#1da84f' },
      { label:'Total WW-Yield', data:[1500,1800,1700,2000,2200], backgroundColor:'#d10000' }
    ]},
    options:{ responsive:true, plugins:{ legend:{ position:'top' } }, scales:{ y:{ beginAtZero:true } } }
  });
}

renderMembers();
renderTotalVolume();
</script>
</body>
</html>
