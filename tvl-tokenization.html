<!DOCTYPE html>
<html lang="cs">
<head>
 <meta charset="UTF-8" />
 <title>AYAS-7 – TVL & Tokenizace</title>
 <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- FAVICON / PWA -->
  <link rel="icon" type="image/png" sizes="192x192" href="/ayas7-192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="/ayas7-512.png">
  <link rel="apple-touch-icon" href="/ayas7-192.png">
  <meta name="theme-color" content="#020617">
<script type="module" src="./assets/js/gate.js"></script>
  <title>AYAS-7 · …</title>
 <style>
   :root {
     --blue-dark: #0a1a33;
     --blue-mid:  #124c99;
     --blue-light:#4fa3ff;
     --accent:    #22c55e;
     --text-main: #e5e7eb;
     --text-muted:#9ca3af;
     --card-bg:   #0b1220;
     --border-soft: rgba(148,163,184,0.45);
   }

   * {
     margin: 0;
     padding: 0;
     box-sizing: border-box;
   }

   html, #msg_body {
     width: 100%;
     height: 100%;
     font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
     background: radial-gradient(circle at 40% 0%, #0f172a 0%, #020617 55%, #000 100%);
     color: var(--text-main);
     overflow-x: hidden;
   }

   a {
     color: inherit;
     text-decoration: none;
   }

   /* TOPBAR – stejné menu jako ostatní interní stránky */
   header.topbar {
     background: linear-gradient(to right, #020617, #020617);
     border-bottom: 1px solid rgba(15,23,42,0.9);
     box-shadow: 0 18px 40px rgba(15,23,42,0.9);
     position: sticky;
     top: 0;
     z-index: 40;
   }

   .topbar-inner {
     max-width: 1200px;
     margin: 0 auto;
     padding: 10px 16px;
     display: flex;
     align-items: center;
     justify-content: space-between;
     gap: 24px;
   }

   .brand {
     display: flex;
     flex-direction: column;
     gap: 2px;
   }

   .brand-text-main {
     font-size: 18px;
     font-weight: 600;
     letter-spacing: 0.08em;
     text-transform: uppercase;
     color: #e5e7eb;
   }

   .brand-text-sub {
     font-size: 11px;
     letter-spacing: 0.18em;
     text-transform: uppercase;
     color: rgba(148,163,184,0.9);
   }

   nav.main-nav {
     flex: 1;
     display: flex;
     justify-content: center;
   }

   .nav-list {
     list-style: none;
     display: flex;
     gap: 18px;
     font-size: 14px;
   }

   .nav-link {
     position: relative;
     padding: 4px 0;
     color: rgba(226,232,240,0.9);
     white-space: nowrap;
     transition: color 0.18s ease;
   }

   .nav-link::after {
     content: "";
     position: absolute;
     left: 0;
     bottom: -3px;
     width: 0;
     height: 2px;
     border-radius: 999px;
     background: linear-gradient(to right, var(--accent), #4ade80);
     transition: width 0.22s ease;
   }

   .nav-link:hover {
     color: #ffffff;
   }

   .nav-link:hover::after {
     width: 100%;
   }

   .nav-link.active {
     color: #ffffff;
     font-weight: 600;
   }

   .nav-link.active::after {
     width: 100%;
   }

   .topbar-right {
     display: flex;
     align-items: center;
     gap: 16px;
     flex-shrink: 0;
   }

   .lang-switch {
     font-size: 12px;
     letter-spacing: 0.12em;
     text-transform: uppercase;
     color: rgba(226,232,240,0.8);
     display: flex;
     gap: 6px;
   }

   .lang-switch span {
     cursor: pointer;
     opacity: 0.65;
   }

   .lang-switch span.active {
     opacity: 1;
     font-weight: 600;
     text-decoration: underline;
     text-underline-offset: 3px;
   }

   .lang-sep { opacity: 0.4; }

   .btn-login {
     padding: 6px 16px;
     border-radius: 999px;
     border: 1px solid rgba(226,232,240,0.6);
     background: radial-gradient(circle at top left, #0b1120, #020617);
     color: #f9fafb;
     font-size: 13px;
     font-weight: 500;
     cursor: pointer;
     display: inline-flex;
     align-items: center;
     gap: 8px;
     transition: background 0.18s ease, border-color 0.18s ease, transform 0.12s ease;
   }

   .btn-login span.dot {
     width: 8px;
     height: 8px;
     border-radius: 999px;
     background: var(--accent);
     box-shadow: 0 0 10px rgba(34,197,94,0.9);
   }

   .btn-login:hover {
     background: rgba(15,23,42,0.9);
     border-color: #ffffff;
     transform: translateY(-1px);
   }

   /* MAIN LAYOUT */
   main {
     min-height: calc(100vh - 80px - 50px);
     padding: 28px 16px 40px;
     display: flex;
     justify-content: center;
   }

   .page-inner {
     max-width: 1200px;
     width: 100%;
   }

   .page-header {
     margin-bottom: 24px;
   }

   .page-kicker {
     font-size: 12px;
     text-transform: uppercase;
     letter-spacing: 0.14em;
     color: var(--text-muted);
     margin-bottom: 6px;
     display: inline-flex;
     align-items: center;
     gap: 6px;
   }

   .page-kicker-dot {
     width: 7px;
     height: 7px;
     border-radius: 999px;
     background: var(--accent);
     box-shadow: 0 0 8px rgba(34,197,94,1);
   }

   .page-title {
     font-size: 24px;
     font-weight: 600;
     margin-bottom: 6px;
   }

   .page-subtitle {
     font-size: 13px;
     color: var(--text-muted);
     max-width: 780px;
     line-height: 1.6;
   }

   .page-subtitle b {
     color: #e5e7eb;
   }

   .columns {
     display: flex;
     gap: 20px;
     align-items: flex-start;
     flex-wrap: wrap;
     margin-top: 22px;
   }

   .col-main {
     flex: 1.2;
     min-width: 0;
   }

   .col-side {
     flex: 1;
     min-width: 0;
   }

   /* KARTY */
   .card {
     background: radial-gradient(circle at top left, #0b1120, #020617 70%);
     border-radius: 18px;
     border: 1px solid rgba(51,65,85,0.9);
     box-shadow:
       0 24px 60px rgba(15,23,42,0.9),
       0 0 0 1px rgba(15,23,42,1);
     padding: 18px 18px 16px;
     position: relative;
     overflow: hidden;
     margin-bottom: 18px;
   }

   .card::before {
     content: "";
     position: absolute;
     inset: 0;
     background: radial-gradient(circle at top right, rgba(79,172,255,0.18), transparent 65%);
     opacity: 0.9;
     pointer-events: none;
   }

   .card-inner {
     position: relative;
     z-index: 2;
   }

   .card-led-bar {
     position: absolute;
     top: 0;
     left: 0;
     right: 0;
     height: 3px;
     background: linear-gradient(to right, #4fa3ff, #22c55e);
     opacity: 0.95;
   }

   .card-badge {
     display: inline-flex;
     align-items: center;
     gap: 6px;
     padding: 2px 10px;
     border-radius: 999px;
     border: 1px solid rgba(148,163,184,0.5);
     font-size: 11px;
     color: var(--text-muted);
     margin-bottom: 10px;
     background: rgba(15,23,42,0.7);
   }

   .card-badge-dot {
     width: 7px;
     height: 7px;
     border-radius: 999px;
     background: var(--accent);
     box-shadow: 0 0 10px rgba(34,197,94,1);
   }

   .card-title {
     font-size: 18px;
     font-weight: 600;
     margin-bottom: 6px;
   }

   .card-sub {
     font-size: 12px;
     color: var(--text-muted);
     margin-bottom: 12px;
     line-height: 1.6;
   }

   .card-section-title {
     font-size: 13px;
     font-weight: 600;
     margin: 10px 0 4px;
   }

   .card-list {
     list-style: none;
     font-size: 12px;
     color: var(--text-muted);
     margin-top: 4px;
   }

   .card-list li {
     display: flex;
     align-items: flex-start;
     gap: 6px;
     margin-bottom: 4px;
   }

   .card-list-dot {
     width: 6px;
     height: 6px;
     border-radius: 999px;
     margin-top: 4px;
     background: var(--blue-light);
     box-shadow: 0 0 8px rgba(79,163,255,0.9);
     flex-shrink: 0;
   }

   /* INTERAKTIVNÍ BLOK */
   .tvl-form-row {
     display: grid;
     grid-template-columns: 1.2fr 1.4fr;
     gap: 10px;
     margin-bottom: 10px;
     align-items: center;
   }

   .tvl-label {
     font-size: 12px;
     color: var(--text-muted);
   }

   .tvl-input {
     width: 100%;
     padding: 7px 10px;
     border-radius: 8px;
     border: 1px solid var(--border-soft);
     background: rgba(15,23,42,0.75);
     color: var(--text-main);
     font-size: 13px;
     outline: none;
     transition: border-color 0.16s ease, box-shadow 0.16s ease, background 0.16s ease;
   }

   .tvl-input::placeholder {
     color: rgba(148,163,184,0.7);
   }

   .tvl-input:focus {
     border-color: var(--blue-light);
     box-shadow: 0 0 0 1px rgba(79,163,255,0.7);
     background: rgba(15,23,42,0.95);
   }

   .tvl-result-grid {
     display: grid;
     grid-template-columns: repeat(3, minmax(0, 1fr));
     gap: 8px;
     margin-top: 8px;
     font-size: 12px;
   }

   .tvl-pill {
     padding: 6px 8px;
     border-radius: 10px;
     border: 1px solid rgba(148,163,184,0.5);
     background: rgba(15,23,42,0.85);
   }

   .tvl-pill-label {
     color: var(--text-muted);
     font-size: 11px;
     margin-bottom: 2px;
   }

   .tvl-pill-value {
     font-weight: 600;
     letter-spacing: 0.02em;
   }

   .tvl-pill-tag {
     font-size: 10px;
     color: var(--text-muted);
     margin-top: 2px;
   }

   .tvl-led-meter {
     margin-top: 10px;
     padding: 8px 10px;
     border-radius: 10px;
     background: rgba(15,23,42,0.9);
     border: 1px solid rgba(37,99,235,0.7);
   }

   .tvl-meter-label-row {
     display: flex;
     justify-content: space-between;
     font-size: 11px;
     color: var(--text-muted);
     margin-bottom: 4px;
   }

   .tvl-meter-bar {
     position: relative;
     height: 9px;
     border-radius: 999px;
     background: rgba(15,23,42,1);
     overflow: hidden;
     box-shadow: 0 0 0 1px rgba(30,64,175,0.7);
   }

   .tvl-meter-fill {
     position: absolute;
     top: 0;
     left: 0;
     height: 100%;
     width: 70%; /* default 70 % využití */
     background: linear-gradient(90deg,
       #22c55e 0%,
       #4ade80 30%,
       #4fa3ff 65%,
       #38bdf8 100%
     );
     box-shadow: 0 0 20px rgba(56,189,248,0.9);
     transition: width 0.3s ease;
   }

   .tvl-meter-dots {
     margin-top: 4px;
     display: flex;
     gap: 4px;
     font-size: 9px;
     text-transform: uppercase;
     letter-spacing: 0.12em;
     color: var(--text-muted);
     align-items: center;
   }

   .tvl-dot {
     width: 6px;
     height: 6px;
     border-radius: 999px;
     box-shadow: 0 0 8px rgba(79,163,255,0.85);
     flex-shrink: 0;
   }

   .tvl-dot.prod   { background: #22c55e; }
   .tvl-dot.liq    { background: #4fa3ff; }
   .tvl-dot.buffer { background: #facc15; }

   .tvl-disclaimer {
     font-size: 10px;
     color: var(--text-muted);
     margin-top: 8px;
     line-height: 1.5;
   }

   /* TŘI MENŠÍ KARTY DO GRIDU */
   .mini-grid {
     display: grid;
     grid-template-columns: repeat(3, minmax(0, 1fr));
     gap: 16px;
     margin-top: 8px;
   }

   .mini-card-title {
     font-size: 14px;
     font-weight: 600;
     margin-bottom: 4px;
   }

   .mini-card-text {
     font-size: 12px;
     color: var(--text-muted);
     line-height: 1.6;
     margin-bottom: 4px;
   }

   .mini-chip-row {
     display: flex;
     flex-wrap: wrap;
     gap: 6px;
     margin-top: 4px;
   }

   .mini-chip {
     font-size: 10px;
     padding: 3px 7px;
     border-radius: 999px;
     border: 1px solid rgba(148,163,184,0.6);
     background: rgba(15,23,42,0.8);
     color: var(--text-muted);
   }

   footer {
     text-align: center;
     padding: 10px 16px 16px;
     font-size: 11px;
     color: var(--text-muted);
   }

   @media (max-width: 900px) {
     .columns {
       flex-direction: column;
     }
     .mini-grid {
       grid-template-columns: 1fr;
     }
   }

   @media (max-width: 640px) {
     .topbar-inner {
       flex-direction: column;
       align-items: flex-start;
       gap: 8px;
     }
     nav.main-nav {
       width: 100%;
       justify-content: flex-start;
     }
     .nav-list {
       flex-wrap: wrap;
       row-gap: 4px;
       font-size: 13px;
     }
     .topbar-right {
       width: 100%;
       justify-content: space-between;
     }
     .tvl-result-grid {
       grid-template-columns: 1fr;
     }
   }
 </style>
</head>
<body>
<div id="user-bar" style="
  position:fixed;
  top:12px;
  right:16px;
  z-index:9999;
  font-size:12px;
  color:#e5e7eb;
  background:rgba(2,6,23,0.85);
  border:1px solid rgba(148,163,184,0.3);
  padding:6px 12px;
  border-radius:999px;
  display:none;
">
  Přihlášen: <span id="user-email"></span>
  · <a href="#" id="logout" style="color:#4fa3ff;text-decoration:none;">Odhlásit</a>
</div>
<header class="topbar">
 <div class="topbar-inner">

   <div class="brand">
     <div class="brand-text-main">AYAS-7 ENGINE</div>
     <div class="brand-text-sub">WIN-WIN COOPERATIVE</div>
   </div>

   <nav class="main-nav" aria-label="Hlavní menu">
     <ul class="nav-list">
       <li><a href="dashboard.html"    class="nav-link">Home</a></li>
       <li><a href="members.html"      class="nav-link">Členové</a></li>
       <li><a href="payments.html"     class="nav-link">Platby</a></li>
       <li><a href="performance.html"  class="nav-link">Výkon &amp; výnos</a></li>
       <li><a href="fintech.html"      class="nav-link active">FinTech</a></li>
     </ul>
   </nav>

   <div class="topbar-right">
     <div class="lang-switch">
       <span class="active">CZ</span>
       <span class="lang-sep">|</span>
       <span>EN</span>
     </div>
     <a href="login.html">
       <button type="button" class="btn-login">
         <span class="dot"></span>
         <span>Login</span>
       </button>
     </a>
   </div>

 </div>
</header>

<main>
 <div class="page-inner">

   <div class="page-header">
     <div class="page-kicker">
       <span class="page-kicker-dot"></span>
       TVL · Tokenizace · WW-KEY
     </div>
     <div class="page-title">TVL &amp; tokenizace kapitálu v AYAS-7</div>
     <div class="page-subtitle">
       Tato stránka ukazuje, jak se celková uzamčená hodnota (<b>TVL</b>) v enginu AYAS-7
       proměňuje na <b>WW-KEY</b> a jakou roli v tom hrají tokeny <b>WW-UNIT</b> a <b>WW-RESERVE</b>.
       Nejde o nabídku investice ani regulovaný prospekt – je to <b>model</b>, který má
       vysvětlit logiku systému.
     </div>
   </div>

   <div class="columns">

     
     <div class="col-main">
       <section class="card">
         <div class="card-led-bar"></div>
         <div class="card-inner">
           <div class="card-badge">
             <span class="card-badge-dot"></span>
             Struktura TVL v AYAS-7
           </div>
           <div class="card-title">Jak se TVL „rozpadá“ uvnitř motoru</div>
           <div class="card-sub">
             Celková hodnota v systému AYAS-7 (TVL – Total Value Locked) není jedna
             hromada peněz. V modelu ji rozdělujeme na <b>produktívní kapitál</b>,
             <b>likviditu</b> a <b>bezpečnostní rezervu</b>. Každá část má jinou úlohu
             a jiné riziko.
           </div>

           <div class="card-section-title">Výchozí modelové rozdělení</div>
           <ul class="card-list">
             <li>
               <span class="card-list-dot"></span>
               <span><b>70&nbsp;% – produktívní kapitál:</b> LP pooly, výnosové strategie,
               směrování přes routing vrstvu. Zde vzniká hlavní výnos.</span>
             </li>
             <li>
               <span class="card-list-dot"></span>
               <span><b>20&nbsp;% – likvidita:</b> rezerva pro výběry členů, rebalancování
               a operativní řízení rizika.</span>
             </li>
             <li>
               <span class="card-list-dot"></span>
               <span><b>10&nbsp;% – bezpečnostní buffer:</b> ochranný polštář pro extrémní
               situace, black swan scénáře a mimořádné události.</span>
             </li>
           </ul>

           <div class="card-section-title">Napojení na WW-KEY a tokeny</div>
           <ul class="card-list">
             <li>
               <span class="card-list-dot"></span>
               <span><b>WW-KEY:</b> tokenizace členských vkladů (např. 1 WW-KEY = 25 CZK),
               podle kterých se dělí výnos z produktívní části TVL.</span>
             </li>
             <li>
               <span class="card-list-dot"></span>
               <span><b>WW-UNIT:</b> výkonový stabilní token, který vstupuje do výnosových
               strategií, LP poolů a routing logiky.</span>
             </li>
             <li>
               <span class="card-list-dot"></span>
               <span><b>WW-RESERVE:</b> konzervativnější vrstva – token vhodný pro bezpečnější
               scénáře, repo pozice nebo kolaterál.</span>
             </li>
           </ul>
         </div>
       </section>
     </div>

     
     <div class="col-side">
       <section class="card">
         <div class="card-led-bar"></div>
         <div class="card-inner">
           <div class="card-badge">
             <span class="card-badge-dot"></span>
             Interaktivní model
           </div>
           <div class="card-title">Model: rozdělení TVL &amp; WW-KEY</div>
           <div class="card-sub">
             Zadej modelový objem TVL a podívej se, jak by se podle výše uvedeného schématu
             rozdělil kapitál uvnitř motoru AYAS-7 a kolik WW-KEY by odpovídalo této hodnotě.
           </div>

           <div class="tvl-form-row">
             <label class="tvl-label" for="tvlInput">
               Celková TVL v systému (CZK)
             </label>
             <input
               id="tvlInput"
               type="number"
               class="tvl-input"
               placeholder="např. 10 000 000"
               min="0"
             />
           </div>

           <div class="tvl-result-grid">
             <div class="tvl-pill">
               <div class="tvl-pill-label">Produktívní kapitál (70&nbsp;%)</div>
               <div id="tvlProdValue" class="tvl-pill-value">0 CZK</div>
               <div class="tvl-pill-tag">LP pooly, výnosové strategie</div>
             </div>
             <div class="tvl-pill">
               <div class="tvl-pill-label">Likvidita (20&nbsp;%)</div>
               <div id="tvlLiqValue" class="tvl-pill-value">0 CZK</div>
               <div class="tvl-pill-tag">rezerva pro výběry</div>
             </div>
             <div class="tvl-pill">
               <div class="tvl-pill-label">Bezpečnostní buffer (10&nbsp;%)</div>
               <div id="tvlBufValue" class="tvl-pill-value">0 CZK</div>
               <div class="tvl-pill-tag">ochranný polštář</div>
             </div>
           </div>

           <div class="tvl-result-grid" style="margin-top: 10px;">
             <div class="tvl-pill" style="grid-column: span 3;">
               <div class="tvl-pill-label">Odhad odpovídajících WW-KEY</div>
               <div id="tvlWwkeyValue" class="tvl-pill-value">0 WW-KEY</div>
               <div class="tvl-pill-tag">
                 model: <b>1 WW-KEY = 25 CZK</b> (lze později napojit na živý kurz)
               </div>
             </div>
           </div>

           <div class="tvl-led-meter">
             <div class="tvl-meter-label-row">
               <span>Využití TVL v enginu AYAS-7</span>
               <span id="tvlUtilText">Model: 70&nbsp;% produktívní kapitál</span>
             </div>
             <div class="tvl-meter-bar">
               <div id="tvlMeterFill" class="tvl-meter-fill"></div>
             </div>
             <div class="tvl-meter-dots">
               <span class="tvl-dot prod"></span> PROD
               <span class="tvl-dot liq"></span> LIQ
               <span class="tvl-dot buffer"></span> BUFFER
             </div>
           </div>

           <div class="tvl-disclaimer">
             Tento model slouží <b>jen k ilustraci</b>, jak může AYAS-7 pracovat s kapitálem.
             Nejde o veřejnou nabídku investice, garantovaný výnos ani regulovaný prospekt.
             Reálné nastavení poměrů a výnosů bude předmětem interních pravidel družstva,
             risk &amp; compliance a dohledových požadavků.
           </div>
         </div>
       </section>
     </div>

   </div>

   
   <section class="card">
     <div class="card-led-bar"></div>
     <div class="card-inner">
       <div class="card-badge">
         <span class="card-badge-dot"></span>
         Tokenizace · Klíčové prvky
       </div>
       <div class="card-title">Jak spolu hrají WW-KEY, WW-UNIT a WW-RESERVE</div>
       <div class="card-sub">
         TVL v AYAS-7 není „jen číslo na dashboardu“. Je krytá konkrétními tokeny a
         nástroji, které mají jasné role: <b>WW-KEY</b> jako členský klíč, <b>WW-UNIT</b>
         jako motor výnosu a <b>WW-RESERVE</b> jako stabilizační vrstva.
       </div>

       <div class="mini-grid">
         <div class="info-card-mini">
           <div class="mini-card-title">WW-KEY · členský klíč</div>
           <div class="mini-card-text">
             WW-KEY převádí členský vklad do digitální podoby. Podle počtu WW-KEY se
             dělí výnos z produktívní části TVL – člen vždy ví, kolik klíčů drží a
             jaký má podíl na motoru.
           </div>
           <div class="mini-chip-row">
             <span class="mini-chip">1 WW-KEY = 25 CZK (model)</span>
             <span class="mini-chip">Evidence v members_data</span>
             <span class="mini-chip">Napojení na platby</span>
           </div>
         </div>

         <div class="info-card-mini">
           <div class="mini-card-title">WW-UNIT · výkonový token</div>
           <div class="mini-card-text">
             WW-UNIT je token, který vstupuje do výnosových strategií, LP poolů a
             routing logiky. Zajišťuje, aby produktívní část TVL pracovala efektivně,
             ale stále v rámci řízeného rizika.
           </div>
           <div class="mini-chip-row">
             <span class="mini-chip">Páry na DEX</span>
             <span class="mini-chip">Routing &amp; LP</span>
             <span class="mini-chip">Výkonová vrstva</span>
           </div>
         </div>

         <div class="info-card-mini">
           <div class="mini-card-title">WW-RESERVE · stabilizační vrstva</div>
           <div class="mini-card-text">
             WW-RESERVE reprezentuje konzervativnější část systému – může být použit jako
             kolaterál, pro bezpečnější strategie nebo jako parkovací místo pro
             kapitál v období zvýšené volatility.
           </div>
           <div class="mini-chip-row">
             <span class="mini-chip">Stabilnější scénáře</span>
             <span class="mini-chip">Kolaterál &amp; repo</span>
             <span class="mini-chip">Napojení na risk &amp; compliance</span>
           </div>
         </div>
       </div>
     </div>
   </section>

 </div>
</main>

<footer>
 © 2025 Win-Win Družstvo · AYAS-7 Engine · TVL &amp; Tokenizace
</footer>

<script>
 // Jednoduchá logika pro výpočet rozdělení TVL a WW-KEY
 const tvlInput      = document.getElementById('tvlInput');
 const tvlProdValue  = document.getElementById('tvlProdValue');
 const tvlLiqValue   = document.getElementById('tvlLiqValue');
 const tvlBufValue   = document.getElementById('tvlBufValue');
 const tvlWwkeyValue = document.getElementById('tvlWwkeyValue');
 const tvlMeterFill  = document.getElementById('tvlMeterFill');

 function formatCZK(value) {
   if (!isFinite(value)) return '0 CZK';
   return value.toLocaleString('cs-CZ', { maximumFractionDigits: 0 }) + ' CZK';
 }

 function formatInt(value) {
   if (!isFinite(value)) return '0';
   return value.toLocaleString('cs-CZ', { maximumFractionDigits: 0 });
 }

 function recalcTVL() {
   const raw = Number(tvlInput.value);
   const tvl = raw > 0 ? raw : 0;

   const prod = tvl * 0.70;
   const liq  = tvl * 0.20;
   const buff = tvl * 0.10;

   const wwkey = tvl / 25; // 1 WW-KEY = 25 CZK (model)

   tvlProdValue.textContent  = formatCZK(prod);
   tvlLiqValue.textContent   = formatCZK(liq);
   tvlBufValue.textContent   = formatCZK(buff);
   tvlWwkeyValue.textContent = formatInt(wwkey) + ' WW-KEY';

   // jednoduchá vizuální animace: pokud TVL = 0, bar na 0 %, jinak 70 %
   const targetWidth = tvl === 0 ? 0 : 70;
   tvlMeterFill.style.width = targetWidth + '%';
 }

 tvlInput.addEventListener('input', recalcTVL);
 recalcTVL();
</script>


</body>
</html>
