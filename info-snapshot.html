<!doctype html>
<html lang="cs">
<head>
<meta charset="utf-8"/>
<title>AYAS-7 · Truth Snapshot</title>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<link rel="manifest" href="/manifest.json">
<link rel="icon" sizes="192x192" href="/ayas7-192.png">
<link rel="apple-touch-icon" href="/ayas7-192.png">
<meta name="theme-color" content="#020617"/>

<style>
/* =========================================================
   AYAS-7 · TRUTH SNAPSHOT (FINAL REFERENCE)
   READ ONLY · SILENT AUTHORITY · NO UI NOISE
========================================================= */

:root{
  --bg:#020617;
  --text:#e5e7eb;
  --muted:#9ca3af;
  --green:#22c55e;
  --red:#ef4444;
  --yellow:#facc15;
}

html,body{
  margin:0;
  background:var(--bg);
  font-family:"Segoe UI",Tahoma,Verdana,sans-serif;
  color:var(--text);
}

/* =========================
   HERO (ONLY LIGHT SOURCE)
========================= */
.hero{
  height:72vh;
  min-height:520px;
  background:
    radial-gradient(ellipse at center bottom, rgba(56,189,248,.35), transparent 65%),
    url("/ayas7-hero.jpg") center/cover no-repeat;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
}

.hero img{
  width:120px;
  margin-bottom:18px;
}

.hero h1{
  font-size:34px;
  letter-spacing:.12em;
  margin:0;
}

.hero span{
  margin-top:8px;
  font-size:13px;
  letter-spacing:.2em;
  color:#9ca3af;
}

/* =========================
   CONTENT FLOW
========================= */
main{
  max-width:420px;
  margin:-120px auto 120px;
  padding:0 18px;
}

/* =========================
   SILENT PANEL
========================= */
.panel{
  margin-top:22px;
  padding:22px 24px;
  border-radius:22px;
  background:linear-gradient(180deg,rgba(15,23,42,.55),rgba(2,6,23,.85));
}

/* =========================
   PANEL HEADER
========================= */
.panel-title{
  display:flex;
  align-items:center;
  gap:10px;
  font-size:11px;
  letter-spacing:.22em;
  text-transform:uppercase;
  color:var(--muted);
  margin-bottom:16px;
}

.led{
  width:8px;
  height:8px;
  border-radius:50%;
  background:var(--red);
  box-shadow:0 0 8px rgba(239,68,68,.6);
}

.led.live{
  background:var(--green);
  box-shadow:0 0 8px rgba(34,197,94,.8);
}

/* =========================
   METRICS
========================= */
.row{
  display:flex;
  justify-content:space-between;
  margin-bottom:8px;
  font-size:14px;
}

.row span:first-child{color:var(--muted);}
.row span:last-child{font-weight:700;}

/* =========================
   HEALTH BAR
========================= */
.bar{
  margin-top:14px;
  height:12px;
  background:rgba(255,255,255,.08);
  border-radius:10px;
  overflow:hidden;
}

.bar-fill{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,#facc15,#fde047);
  transition:width 1s ease;
}

/* =========================
   FOOT
========================= */
footer{
  margin-top:40px;
  text-align:center;
  font-size:11px;
  letter-spacing:.18em;
  color:#64748b;
}
</style>
</head>

<body>

<header class="ayas-hero">
  <!-- TODO: dosadit finální hero podle návrhu -->
  <img src="/ayas7-hero-new.jpg" alt="AYAS-7 System Engine">
</header>
  <span>NEXT GENERATION</span>
</section>

<main>

<section class="panel">
  <div class="panel-title">
    <span class="led" id="ledSystem"></span>
    SYSTEM · TRUTH SNAPSHOT
  </div>

  <div class="row"><span>Mode</span><span id="sysMode">—</span></div>
  <div class="row"><span>Health</span><span id="sysHealth">—</span></div>
  <div class="row"><span>Uptime</span><span id="sysUptime">—</span></div>
  <div class="row"><span>Snapshot</span><span id="snapTime">—</span></div>
</section>

<section class="panel">
  <div class="panel-title">
    <span class="led" id="ledStatus"></span>
    OPERATIONAL STATUS
  </div>

  <div class="row">
    <span>Status</span>
    <span><span id="healthValue">—</span> % ACTIVE</span>
  </div>

  <div class="bar">
    <div class="bar-fill" id="healthBar"></div>
  </div>
</section>

<section class="panel">
  <div class="panel-title">LIQUIDITY</div>

  <div class="row"><span>TVL</span><span id="liqTVL">—</span></div>
  <div class="row"><span>Utilization</span><span id="liqUtil">—</span></div>
  <div class="row"><span>Depth</span><span id="liqDepth">—</span></div>
  <div class="row"><span>Slippage</span><span id="liqSlip">—</span></div>
</section>

<section class="panel">
  <div class="panel-title">TOKENS</div>

  <div class="row"><span>WW-UNIT</span><span id="unitSupply">—</span></div>
  <div class="row"><span>WW-RESERVE</span><span id="reserveSupply">—</span></div>
  <div class="row"><span>WW-KEY</span><span id="keySupply">—</span></div>
</section>

<footer>
  READ-ONLY · NO EXECUTION · NO CUSTODY
</footer>

</main>

<script>
(async ()=>{
const API="https://snapshot.ayas7.com/api/snapshot";

function set(id,v){const e=document.getElementById(id);if(e)e.textContent=v??"—";}
function pct(v){return v==null?"—":Number(v).toFixed(2);}
function usd(v){return v==null?"—":"$"+Number(v).toLocaleString();}
function time(t){return t?new Date(t).toLocaleString("cs-CZ"):"—";}

try{
  const r=await fetch(API,{cache:"no-store"});
  const s=await r.json();

  document.getElementById("ledSystem").classList.add("live");
  document.getElementById("ledStatus").classList.add("live");

  set("sysMode",s.meta?.mode);
  set("sysHealth",pct(s.meta?.health)+" %");
  set("sysUptime",s.meta?.uptime);
  set("snapTime",time(s.meta?.generatedAt));

  set("healthValue",pct(s.meta?.health));
  document.getElementById("healthBar").style.width=Math.min(100,s.meta?.health)+"%";

  set("liqTVL",usd(s.pools?.liquidityUSD));
  set("liqUtil",pct(s.pools?.utilization)+" %");
  set("liqDepth",s.pools?.depth);
  set("liqSlip",pct(s.pools?.slippage)+" %");

  set("unitSupply",s.tokens?.WW_UNIT?.supply);
  set("reserveSupply",usd(s.tokens?.WW_RESERVE?.balance));
  set("keySupply",s.tokens?.WW_KEY?.holders);

}catch(e){}
})();
</script>

</body>
</html>
