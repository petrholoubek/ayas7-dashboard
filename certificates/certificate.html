<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="utf-8">
<title>AYAS-7 ¬∑ Certifik√°t WW-KEY</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="icon" type="image/png" sizes="192x192" href="/ayas7-192.png">
<link rel="icon" type="image/png" sizes="512x512" href="/ayas7-512.png">
<link rel="apple-touch-icon" href="/ayas7-192.png">
<meta name="theme-color" content="#020617">

<style>
/* =========================
   RESET & BASE
========================= */
*{box-sizing:border-box;margin:0;padding:0}
html,body{
  width:100%;
  height:100%;
  background:#020617;
  font-family:"Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  color:#e5e7eb;
}

/* =========================
   A4 CANVAS
========================= */
.page{
  width:210mm;
  height:297mm;
  margin:20px auto;
  position:relative;
  overflow:hidden;

  /* JPG PODKLAD */
  background:
    url("certificate-bg.jpg") center center / cover no-repeat,

    /* jemn√© svƒõtlo */
    radial-gradient(
      120% 40% at 50% -10%,
      rgba(79,163,255,.10),
      rgba(2,6,23,0) 60%
    ),

    /* lehk√© ztmaven√≠ spodku */
    linear-gradient(
      180deg,
      rgba(2,6,23,0) 0%,
      rgba(2,6,23,.35) 100%
    );
}

/* vnit≈ôn√≠ autoritativn√≠ r√°m */
.page::before{
  content:"";
  position:absolute;
  inset:22mm;
  border:1px solid rgba(148,163,184,.28);
  border-radius:8px;
  pointer-events:none;
}

/* =========================
   HEADER
========================= */
.header{
  text-align:center;
  margin-top:26mm;
}
.logo{
  font-size:30px;
  font-weight:700;
  letter-spacing:.30em;
}
.subtitle{
  margin-top:6px;
  font-size:11px;
  letter-spacing:.34em;
  color:#9ca3af;
  text-transform:uppercase;
}

/* =========================
   TITLE
========================= */
.title{
  text-align:center;
  margin-top:34mm;
}
.title h1{
  font-size:26px;
  font-weight:600;
  letter-spacing:.18em;
}
.title p{
  margin:14px auto 0;
  max-width:520px;
  font-size:12px;
  color:#9ca3af;
  line-height:1.7;
}

/* =========================
   CONTENT
========================= */
.content{
  margin:38mm 34mm 0;
  font-size:13px;
  line-height:1.9;
}
.row{
  display:flex;
  justify-content:space-between;
  margin-bottom:14px;
}
.label{ color:#9ca3af; }
.value{ font-weight:600; }

/* =========================
   WW-KEY SEAL (BLUE)
========================= */
.seal-wrap{
  margin-top:30mm;
  display:flex;
  justify-content:center;
}
.seal{
  width:240px;
  height:240px;
  border-radius:999px;
  position:relative;
  background:
    radial-gradient(circle at 50% 20%,
      rgba(79,163,255,.18),
      rgba(79,163,255,.06) 55%,
      rgba(79,163,255,.02) 70%,
      transparent 75%
    ),
    radial-gradient(circle at 50% 50%,
      rgba(255,255,255,.04),
      transparent 60%
    );
  border:1px solid rgba(79,163,255,.35);
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
}
.seal::after{
  content:"";
  position:absolute;
  inset:10px;
  border-radius:999px;
  border:1px dashed rgba(79,163,255,.35);
}
.seal-inner{ position:relative; z-index:2; }
.seal-count{
  font-size:44px;
  font-weight:700;
  color:#4fa3ff;
  letter-spacing:.06em;
  text-shadow:0 0 22px rgba(79,163,255,.65);
}
.seal-unit{
  margin-top:6px;
  font-size:12px;
  letter-spacing:.28em;
  text-transform:uppercase;
  color:#bfdbfe;
}
.seal-note{
  margin-top:10px;
  font-size:11px;
  color:#9ca3af;
}

/* =========================
   FOOTER
========================= */
.footer{
  position:absolute;
  bottom:24mm;
  left:34mm;
  right:34mm;
  font-size:10.5px;
  color:#9ca3af;
  line-height:1.7;
}
.footer hr{
  border:none;
  border-top:1px solid rgba(148,163,184,.22);
  margin-bottom:10px;
}
.hash{
  margin-top:6px;
  font-family:monospace;
  font-size:10px;
  color:#64748b;
  word-break:break-all;
}

/* =========================
   PRINT
========================= */
@media print{
  body{background:#000}
  .page{
    margin:0;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }
}
</style>
</head>

<body>

<div class="page">

  <div class="header">
    <div class="logo">AYAS-7</div>
    <div class="subtitle">Win-Win Cooperative</div>
  </div>

  <div class="title">
    <h1>CERTIFIK√ÅT WW-KEY</h1>
    <p>
      Tento dokument potvrzuje p≈ôidƒõlen√≠ ƒçlensk√Ωch jednotek WW-KEY
      v syst√©mu AYAS-7 na z√°kladƒõ splnƒõn√≠ podm√≠nek ƒçlenstv√≠.
    </p>
  </div>

  <div class="content">
    <div class="row"><span class="label">Jm√©no ƒçlena</span><span class="value" data-name></span></div>
    <div class="row"><span class="label">Datum vyd√°n√≠</span><span class="value" data-date></span></div>
    <div class="row"><span class="label">V√Ω≈°e vkladu</span><span class="value" data-amount></span></div>
    <div class="row"><span class="label">Kurz WW-KEY</span><span class="value">1 WW-KEY = 25 CZK</span></div>

    <div class="seal-wrap">
      <div class="seal">
        <div class="seal-inner">
          <div class="seal-count" data-keys></div>
          <div class="seal-unit">WW-KEY p≈ôidƒõleno</div>
          <div class="seal-note">Evidov√°no v syst√©mu AYAS-7</div>
        </div>
      </div>
    </div>
  </div>

  <div class="footer">
    <hr>
    Tento certifik√°t slou≈æ√≠ v√Ωhradnƒõ jako potvrzen√≠ o p≈ôidƒõlen√≠
    ƒçlensk√Ωch jednotek WW-KEY v r√°mci Win-Win Cooperative.
    <div class="hash">
      Certificate ID: <span data-id></span><br>
      HASH (SHA-256): <span data-hash></span>
    </div>
  </div>

</div>

<script>
(async () => {
  const p = new URLSearchParams(window.location.search);

  const data = {
    name:   p.get('name')   || '',
    amount: p.get('amount') || '',
    keys:   p.get('keys')   || '',
    date:   p.get('date')   || '',
    id:     p.get('id')     || ''
  };

  document.querySelectorAll('[data-name]').forEach(e=>e.textContent=data.name);
  document.querySelectorAll('[data-date]').forEach(e=>e.textContent=data.date);
  document.querySelectorAll('[data-keys]').forEach(e=>e.textContent=data.keys);
  document.querySelectorAll('[data-id]').forEach(e=>e.textContent=data.id);
  document.querySelectorAll('[data-amount]').forEach(e=>e.textContent=data.amount + ' CZK');

  /* üîê DETERMINISTICK√ù HASH */
  const payload = `${data.name}|${data.amount}|${data.keys}|${data.date}|${data.id}|AYAS7`;

  const buf = await crypto.subtle.digest(
    "SHA-256",
    new TextEncoder().encode(payload)
  );

  const hash = [...new Uint8Array(buf)]
    .map(b=>b.toString(16).padStart(2,'0'))
    .join('');

  document.querySelector('[data-hash]').textContent = hash;

  /* üëâ TENTO HASH UKL√ÅD√Å≈† DO DATAB√ÅZE */
})();
</script>

</body>
</html>
