<style>
/* HARD RESET ‚Äì FinTech permanentn√≠ tma */
* {
 margin: 0;
 padding: 0;
 box-sizing: border-box;
}

html, #msg_body {
 width: 100%;
 height: 100%;
 background: #000 !important;     /* TOTO JE KL√çƒå */
 color: #e5e7eb;
 font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
 overflow-x: hidden;
}
</style>

<!DOCTYPE html>
<html lang="cs">
<head>
 <meta charset="UTF-8" />
 <title>AYAS-7 ‚Äì V√Ωkon & v√Ωnos motoru</title>
 <meta name="viewport" content="width=device-width, initial-scale=1.0" />

 <!-- Chart.js pro grafy -->
 <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

 <style>
* {
 margin: 0;
 padding: 0;
 box-sizing: border-box;
}

html, #msg_body {
 width: 100%;
 height: 100%;
 background: radial-gradient(circle at 40% 0%, #0f172a 0%, #020617 55%, #000 100%) !important;
 font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
 overflow-x: hidden;
}

   :root {
     --blue-dark: #003063;
     --blue-mid: #0053a6;
     --blue-light: #4f8edc;
     --bg-page: #020617;
     --card-bg: #0b1120;
     --border-soft: rgba(148, 163, 184, 0.4);
     --text-main: #e5e7eb;
     --text-muted: #9ca3af;
     --accent: #22c55e;
   }

   * {
     box-sizing: border-box;
     margin: 0;
     padding: 0;
   }

   html, #msg_body {
     width: 100%;
     height: 100%;
   }

   #msg_body {
     font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
     background: radial-gradient(circle at 40% 0%, #0f172a 0%, #020617 55%, #000 100%);
     color: var(--text-main);
     overflow-x: hidden;
   }

   a {
     text-decoration: none;
     color: inherit;
   }

   /* TOP BAR / MENU ‚Äì stejn√Ω z√°klad jako login/payments */
   header.topbar {
     background: linear-gradient(to right, var(--blue-dark), var(--blue-mid));
     color: #fff;
     padding: 10px 0;
     box-shadow: 0 10px 30px rgba(15, 23, 42, 0.7);
     position: sticky;
     top: 0;
     z-index: 50;
   }

   .topbar-inner {
     max-width: 1200px;
     margin: 0 auto;
     padding: 0 16px;
     display: flex;
     align-items: center;
     justify-content: space-between;
     gap: 24px;
   }

   .brand-text-wrap {
     display: flex;
     flex-direction: column;
     align-items: flex-start;
     gap: 2px;
   }

   .brand-text-main {
     font-size: 18px;
     font-weight: 600;
     letter-spacing: 0.06em;
     text-transform: uppercase;
     white-space: nowrap;
   }

   .brand-text-sub {
     font-size: 11px;
     text-transform: uppercase;
     letter-spacing: 0.18em;
     color: rgba(226, 232, 240, 0.75);
   }

   nav.main-nav {
     display: flex;
     align-items: center;
     justify-content: center;
     flex: 1;
     min-width: 0;
   }

   .nav-list {
     display: flex;
     align-items: center;
     gap: 18px;
     list-style: none;
     margin: 0;
     padding: 0;
     font-size: 14px;
   }

   .nav-link {
     position: relative;
     padding: 4px 0;
     color: rgba(226, 232, 240, 0.86);
     transition: color 0.18s ease;
     white-space: nowrap;
   }

   .nav-link::after {
     content: "";
     position: absolute;
     left: 0;
     bottom: -3px;
     width: 0;
     height: 2px;
     border-radius: 999px;
     background: linear-gradient(to right, #22c55e, #4ade80);
     transition: width 0.22s ease;
   }

   .nav-link:hover {
     color: #ffffff;
   }

   .nav-link:hover::after {
     width: 100%;
   }

   .nav-link.active {
     color: #ffffff;
     font-weight: 600;
   }

   .nav-link.active::after {
     width: 100%;
   }

   .topbar-right {
     display: flex;
     align-items: center;
     gap: 16px;
     flex-shrink: 0;
   }

   .lang-switch {
     font-size: 12px;
     letter-spacing: 0.12em;
     text-transform: uppercase;
     color: rgba(226, 232, 240, 0.8);
     display: flex;
     align-items: center;
     gap: 6px;
     white-space: nowrap;
   }

   .lang-switch span {
     cursor: pointer;
     opacity: 0.65;
   }

   .lang-switch span.active {
     opacity: 1;
     font-weight: 600;
     text-decoration: underline;
     text-underline-offset: 3px;
   }

   .lang-sep {
     opacity: 0.4;
   }

   .btn-login {
     padding: 6px 16px;
     border-radius: 999px;
     border: 1px solid rgba(226, 232, 240, 0.6);
     background: rgba(15, 23, 42, 0.18);
     color: #f9fafb;
     font-size: 13px;
     font-weight: 500;
     cursor: pointer;
     display: inline-flex;
     align-items: center;
     gap: 8px;
     transition: background 0.18s ease, border-color 0.18s ease, transform 0.12s ease;
     white-space: nowrap;
   }

   .btn-login span.dot {
     width: 8px;
     height: 8px;
     border-radius: 999px;
     background: var(--accent);
     box-shadow: 0 0 8px rgba(34, 197, 94, 0.9);
   }

   .btn-login:hover {
     background: rgba(15, 23, 42, 0.35);
     border-color: #ffffff;
     transform: translateY(-1px);
   }

   .btn-login:active {
     transform: translateY(0);
   }

   /* HLAVN√ç OBSAH */
   main {
     min-height: calc(100vh - 72px - 60px);
     padding: 32px 16px 40px;
     display: flex;
     justify-content: center;
   }

   .page-wrap {
     max-width: 1200px;
     width: 100%;
   }

   .page-header {
     margin-bottom: 22px;
   }

   .page-eyebrow {
     display: inline-flex;
     align-items: center;
     gap: 6px;
     padding: 2px 10px;
     border-radius: 999px;
     border: 1px solid rgba(148, 163, 184, 0.55);
     font-size: 11px;
     color: var(--text-muted);
     background: rgba(15, 23, 42, 0.6);
     margin-bottom: 8px;
   }

   .page-eyebrow-dot {
     width: 7px;
     height: 7px;
     border-radius: 999px;
     background: var(--blue-light);
     box-shadow: 0 0 10px rgba(79, 163, 255, 0.9);
   }

   .page-title {
     font-size: 22px;
     font-weight: 600;
     margin-bottom: 4px;
   }

   .page-subtitle {
     font-size: 13px;
     color: var(--text-muted);
   }

   /* GRID ‚Äì horn√≠ sekce: velk√Ω graf + KPI */
   .top-grid {
     margin-top: 24px;
     display: grid;
     grid-template-columns: 2.1fr 1.2fr;
     gap: 18px;
     margin-bottom: 22px;
   }

   .card {
     background: radial-gradient(circle at top left, #111827, #020617 75%);
     border-radius: 18px;
     border: 1px solid var(--border-soft);
     padding: 16px 18px 14px;
     position: relative;
     overflow: hidden;
     box-shadow: 0 18px 40px rgba(15, 23, 42, 0.7);
   }

   .card::before {
     content: "";
     position: absolute;
     top: 0;
     left: 0;
     width: 100%;
     height: 3px;
     background: linear-gradient(to right, #4fa3ff, #22c55e);
     opacity: 0.9;
   }

   .card-header {
     display: flex;
     align-items: center;
     justify-content: space-between;
     gap: 10px;
     margin-bottom: 10px;
   }

   .card-title {
     font-size: 15px;
     font-weight: 600;
   }

   .card-pill {
     font-size: 11px;
     padding: 3px 10px;
     border-radius: 999px;
     border: 1px solid rgba(148, 163, 184, 0.6);
     color: var(--text-muted);
     display: inline-flex;
     align-items: center;
     gap: 5px;
   }

   .pill-dot {
     width: 6px;
     height: 6px;
     border-radius: 999px;
     background: var(--accent);
     box-shadow: 0 0 8px rgba(34, 197, 94, 0.9);
   }

   .card-text {
     font-size: 12px;
     color: var(--text-muted);
     margin-bottom: 10px;
     line-height: 1.55;
   }

   .chart-wrap {
     margin-top: 4px;
     background: rgba(15, 23, 42, 0.8);
     border-radius: 10px;
     padding: 8px 10px 6px;
   }

   .chart-wrap canvas {
     width: 100%;
     height: 180px;
   }

   .kpi-grid {
     display: grid;
     grid-template-columns: 1fr;
     gap: 10px;
   }

   .kpi-row {
     display: flex;
     justify-content: space-between;
     align-items: baseline;
     font-size: 12px;
     padding: 6px 0;
     border-bottom: 1px solid rgba(30, 64, 175, 0.5);
   }

   .kpi-label {
     color: var(--text-muted);
   }

   .kpi-value {
     font-weight: 600;
     font-size: 13px;
   }

   .kpi-tag {
     font-size: 10px;
     text-transform: uppercase;
     letter-spacing: 0.12em;
     color: var(--text-muted);
     margin-top: 6px;
   }

   /* GRID ‚Äì st≈ôedn√≠ sekce: 3 boxy pro vrstvy / tokeny */
   .mid-grid {
     margin-top: 6px;
     display: grid;
     grid-template-columns: repeat(3, minmax(0, 1fr));
     gap: 18px;
     margin-bottom: 24px;
   }

   .mini-card-title {
     font-size: 14px;
     font-weight: 600;
     margin-bottom: 6px;
   }

   .mini-card-text {
     font-size: 12px;
     color: var(--text-muted);
     margin-bottom: 8px;
   }

   .mini-stat-row {
     display: flex;
     justify-content: space-between;
     font-size: 12px;
     margin-bottom: 3px;
   }

   .mini-label {
     color: var(--text-muted);
   }

   .mini-value {
     font-weight: 500;
   }

   .trend-up {
     color: #4ade80;
   }

   .trend-down {
     color: #f97373;
   }

   /* SPODN√ç INFO PANEL */
   .info-panel {
     margin-top: 6px;
     padding-top: 16px;
     border-top: 1px solid rgba(31, 41, 55, 0.8);
     display: grid;
     grid-template-columns: 2.1fr 1.4fr;
     gap: 22px;
   }

   .info-block-title {
     font-size: 14px;
     font-weight: 600;
     margin-bottom: 6px;
   }

   .info-block-text {
     font-size: 12px;
     color: var(--text-muted);
     line-height: 1.6;
   }

   .info-list {
     margin-top: 4px;
     padding-left: 18px;
     font-size: 12px;
     color: var(--text-muted);
   }

   .info-list li {
     margin-bottom: 4px;
   }

   .info-badge {
     display: inline-flex;
     align-items: center;
     gap: 6px;
     padding: 3px 9px;
     border-radius: 999px;
     border: 1px solid rgba(148, 163, 184, 0.6);
     font-size: 11px;
     color: var(--text-muted);
     margin-bottom: 6px;
   }

   .info-badge-dot {
     width: 7px;
     height: 7px;
     border-radius: 999px;
     background: var(--blue-light);
     box-shadow: 0 0 8px rgba(79, 163, 255, 0.9);
   }

   footer {
     text-align: center;
     padding: 10px 16px 16px;
     font-size: 11px;
     color: var(--text-muted);
   }

   /* RESPONSIVE */
   @media (max-width: 1024px) {
     .top-grid {
       grid-template-columns: 1fr;
     }
     .mid-grid {
       grid-template-columns: repeat(2, minmax(0, 1fr));
     }
   }

   @media (max-width: 800px) {
     .mid-grid {
       grid-template-columns: 1fr;
     }
     .info-panel {
       grid-template-columns: 1fr;
     }
     nav.main-nav {
       justify-content: flex-start;
     }
     .nav-list {
       flex-wrap: wrap;
       row-gap: 4px;
     }
   }

   @media (max-width: 640px) {
     .topbar-inner {
       flex-direction: column;
       align-items: flex-start;
       row-gap: 8px;
     }
     .topbar-right {
       align-self: stretch;
       justify-content: space-between;
       width: 100%;
     }
     .brand-text-main {
       font-size: 16px;
     }
   }
 </style>
</head>
<body>

 <header class="topbar">
   <div class="topbar-inner">

     <div class="brand-text-wrap">
       <div class="brand-text-main">AYAS-7 Engine</div>
       <div class="brand-text-sub">WIN-WIN COOPERATIVE</div>
     </div>

     <nav class="main-nav" aria-label="Hlavn√≠ menu">
       <ul class="nav-list">
         <li><a href="dashboard.html" class="nav-link">Home</a></li>
         <li><a href="members.html" class="nav-link">ƒålenov√©</a></li>
         <li><a href="payments.html" class="nav-link">Platby</a></li>
         <li><a href="performance.html" class="nav-link active">V√Ωkon &amp; v√Ωnos</a></li>
         <li><a href="fintech.html" class="nav-link">FinTech</a></li>
       </ul>
     </nav>

     <div class="topbar-right">
       <div class="lang-switch" aria-label="P≈ôepnut√≠ jazyka">
         <span class="active">CZ</span>
         <span class="lang-sep">|</span>
         <span>EN</span>
       </div>
       <a href="login.html">
         <button type="button" class="btn-login">
           <span class="dot"></span>
           <span>Login</span>
         </button>
       </a>
     </div>

   </div>
 </header>

 <main>
   <section class="page-wrap">
     <div class="page-header">
       <div class="page-eyebrow">
         <span class="page-eyebrow-dot"></span>
         V√Ωkonnostn√≠ vrstva AYAS-7
       </div>
       <h1 class="page-title">V√Ωkon &amp; v√Ωnos motoru AYAS-7</h1>
       <p class="page-subtitle">
         P≈ôehled zhodnocen√≠ USDt.z, GUSD a rozdƒõlen√≠ v√Ωnos≈Ø p≈ôes 7 vrstev motoru. √ödaje jsou modelovan√©,
         p≈ôipraven√© na napojen√≠ na ≈æiv√° data.
       </p>
     </div>

     <div class="top-grid">

       <article class="card">
         <div class="card-header">
           <div class="card-title">Celkov√Ω v√Ωkon ‚Äì USDt.z &amp; GUSD</div>
           <div class="card-pill">
             <span class="pill-dot"></span>
             Modelovan√© zhodnocen√≠ 12M
           </div>
         </div>
         <p class="card-text">
           K≈ôivka ukazuje, jak by se vyv√≠jel kapit√°l 10&nbsp;000&nbsp;EUR rozdƒõlen√Ω mezi USDt.z a GUSD
           p≈ôi konzervativn√≠m modelu. V ostr√© verzi lze napojit p≈ô√≠mo data z DEX a intern√≠ho routingu.
         </p>
         <div class="chart-wrap">
           <canvas id="perfMainChart"></canvas>
         </div>
       </article>

       <aside class="card">
         <div class="card-header">
           <div class="card-title">Kl√≠ƒçov√© metriky v√Ωkonu</div>
           <div class="card-pill">
             <span class="pill-dot"></span>
             AYAS-7 benchmark
           </div>
         </div>
         <p class="card-text">
           Rychl√Ω p≈ôehled toho, jak motor pracuje s kapit√°lem ƒçlen≈Ø. Hodnoty jsou illustrativn√≠ ‚Äì pro
           audit lze napojit na datab√°zi <b>members_data</b> a <b>members_rewards</b>.
         </p>

         <div class="kpi-grid">
           <div class="kpi-row">
             <span class="kpi-label">Oƒçek√°van√Ω roƒçn√≠ v√Ωnos USDt.z</span>
             <span class="kpi-value">+5,8&nbsp;%</span>
           </div>
           <div class="kpi-row">
             <span class="kpi-label">Oƒçek√°van√Ω roƒçn√≠ v√Ωnos GUSD</span>
             <span class="kpi-value">+3,2&nbsp;%</span>
           </div>
           <div class="kpi-row">
             <span class="kpi-label">Pod√≠l v√Ωnosu pro ƒçleny</span>
             <span class="kpi-value">72&nbsp;%</span>
           </div>
           <div class="kpi-row">
             <span class="kpi-label">Rezervy &amp; bezpeƒçnostn√≠ pol≈°t√°≈ô</span>
             <span class="kpi-value">18&nbsp;%</span>
           </div>
           <div class="kpi-row">
             <span class="kpi-label">Fond provozu &amp; rozvoje</span>
             <span class="kpi-value">10&nbsp;%</span>
           </div>
         </div>

         <div class="kpi-tag">
           Model AYAS-7 ¬∑ rozdƒõlen√≠ v√Ωnos≈Ø podle WW-KEY a 7 vrstev motoru
         </div>
       </aside>
     </div>

     <div class="mid-grid">

       <article class="card">
         <div class="card-header">
           <div class="card-title">V√Ωnos podle vrstev AYAS-7</div>
           <div class="card-pill">
             <span class="pill-dot"></span>
             Vrstva 1‚Äì7 ¬∑ roƒçn√≠ zhodnocen√≠
           </div>
         </div>
         <p class="mini-card-text">
           Sloupcov√Ω graf ukazuje, jakou ƒç√°st v√Ωnosu generuj√≠ jednotliv√© vrstvy. V ostr√©m provozu se
           zde mohou zobrazovat ≈æiv√° data vƒçetnƒõ upozornƒõn√≠ na limity a rizika.
         </p>
         <div class="chart-wrap">
           <canvas id="layersChart"></canvas>
         </div>
       </article>

       <article class="card">
         <div class="card-header">
           <div class="card-title">Tok v√Ωnosu ‚Üí WW-KEY</div>
           <div class="card-pill">
             <span class="pill-dot"></span>
             Routing &amp; rozdƒõlen√≠
           </div>
         </div>
         <p class="mini-card-text">
           AYAS-7 p≈ôepoƒç√≠t√°v√° v√Ωnosy do kl√≠ƒç≈Ø WW-KEY. Ka≈æd√Ω kl√≠ƒç reprezentuje pod√≠l na motoru a
           dost√°v√° svou ƒç√°st z v√Ωnosu po pr≈Øchodu 7 vrstvami.
         </p>
         <div class="mini-stat-row">
           <span class="mini-label">Aktivn√≠ WW-KEY</span>
           <span class="mini-value">42&nbsp;350</span>
         </div>
         <div class="mini-stat-row">
           <span class="mini-label">V√Ωnos za posledn√≠ch 30 dn√≠</span>
           <span class="mini-value trend-up">+3,1&nbsp;%</span>
         </div>
         <div class="mini-stat-row">
           <span class="mini-label">Pr≈Ømƒõr na jednoho ƒçlena</span>
           <span class="mini-value">+1,4&nbsp;% / mƒõs√≠c</span>
         </div>
         <p class="card-text" style="margin-top:8px;">
           P≈ôesn√° ƒç√≠sla se v ostr√© verzi vypoƒç√≠taj√≠ z tabulek <b>members_data</b> a <b>members_rewards</b>
           podle poƒçtu WW-KEY ka≈æd√©ho ƒçlena.
         </p>
       </article>

       <article class="card">
         <div class="card-header">
           <div class="card-title">Stabilita &amp; rizikov√Ω profil</div>
           <div class="card-pill">
             <span class="pill-dot"></span>
             Risk &amp; compliance
           </div>
         </div>
         <p class="mini-card-text">
           Layer 4 AYAS-7 hl√≠d√°, aby v√Ωnos nebyl na √∫kor ≈ô√≠zen√≠ rizik. Syst√©m pracuje s limity expozic,
           diverzifikac√≠ a sc√©n√°≈ôi stresov√Ωch test≈Ø.
         </p>
         <div class="mini-stat-row">
           <span class="mini-label">C√≠lov√° volatilita USDt.z</span>
           <span class="mini-value">n√≠zk√°</span>
         </div>
         <div class="mini-stat-row">
           <span class="mini-label">Tracking v≈Øƒçi benchmarku</span>
           <span class="mini-value trend-up">+0,6&nbsp;p.b.</span>
         </div>
         <div class="mini-stat-row">
           <span class="mini-label">Max. drawdown model</span>
           <span class="mini-value trend-down">-2,4&nbsp;%</span>
         </div>
         <p class="card-text" style="margin-top:8px;">
           Tyto parametry lze p≈ô√≠mo dokumentovat pro banky a investory ‚Äì AYAS-7 nen√≠ ‚Äûblack box‚Äú,
           ale auditovateln√Ω motor.
         </p>
       </article>

     </div>

     <div class="info-panel">

       <div>
         <div class="info-block-title">Jak AYAS-7 p≈ôemƒõ≈àuje vklad na v√Ωkon</div>
         <p class="info-block-text">
           ƒålen vlo≈æ√≠ kapit√°l (FIAT nebo krypto), za kter√Ω z√≠sk√° WW-KEY. Tyto kl√≠ƒçe definuj√≠ jeho
           pod√≠l na v√Ωkonn√©m motoru. AYAS-7 pak smƒõruje kapit√°l p≈ôes 7 vrstev ‚Äì od tokenizace,
           p≈ôes likviditu, routing, risk a≈æ po fin√°ln√≠ analytiku.
         </p>
         <ul class="info-list">
           <li><b>Layer 1‚Äì2:</b> tokeny USDt.z &amp; GUSD, likvidita a pooly na DEX.</li>
           <li><b>Layer 3‚Äì4:</b> routing v√Ωnosu, ≈ô√≠zen√≠ rizika a limity expozic.</li>
           <li><b>Layer 5‚Äì6:</b> FinTech rozhran√≠, reporting a v√Ωpoƒçetn√≠ j√°dro.</li>
           <li><b>Layer 7:</b> tato str√°nka ‚Äì konsolidovan√Ω pohled na v√Ωkon a v√Ωnos.</li>
         </ul>
       </div>

       <div>
         <div class="info-badge">
           <span class="info-badge-dot"></span>
           P≈ôipraveno pro audit &amp; investory
         </div>
         <div class="info-block-title">Co uvid√≠ ƒçlenov√© a co uvid√≠ banky</div>
         <p class="info-block-text">
           ƒålen v ƒçlensk√© sekci uvid√≠ sv≈Øj vklad, poƒçet WW-KEY a pod√≠l na v√Ωnosu. Investor nebo banka
           m≈Ø≈æe v tomto dashboardu sledovat agregovan√° ƒç√≠sla ‚Äì v√Ωkonnost token≈Ø, vrstev a stabilitu
           cel√©ho motoru. V≈°e lze exportovat do CSV/PDF a p≈ôilo≈æit k technick√© dokumentaci.
         </p>
         <p class="info-block-text" style="margin-top:6px;">
           Dal≈°√≠ krok je napojen√≠ na ≈æiv√° data z datab√°ze a DEX ‚Äì front-end je p≈ôipraven,
           backend m≈Ø≈æe≈° kdykoli doplnit podle strategie dru≈æstva Win-Win.
         </p>
       </div>

     </div>

   </section>
 </main>

 <footer>
   ¬© 2025 Win-Win Dru≈æstvo ¬∑ AYAS-7 Engine ¬∑ V√Ωkon &amp; v√Ωnos motoru
 </footer>

 <script>
// ================== PERFORMANCE CHART ‚Äì USDt.z & GUSD ==================
const perfCtx = document.getElementById('perfMainChart').getContext('2d');
const perfMainChart = new Chart(perfCtx, {
  type: 'line',
  data: {
    labels: ['M1','M2','M3','M4','M5','M6','M7','M8','M9','M10','M11','M12'],
    datasets: [
      {
        label: 'USDt.z',
        data: [10000,10080,10160,10240,10350,10440,10560,10680,10820,10960,11120,11300],
        borderColor: '#4fa3ff',
        backgroundColor: 'rgba(79,163,255,0.12)',
        tension: .35,
        fill: true,
        pointRadius: 0
      },
      {
        label: 'GUSD',
        data: [10000,10045,10090,10140,10190,10240,10300,10360,10420,10480,10540,10600],
        borderColor: '#22c55e',
        backgroundColor: 'rgba(34,197,94,0.10)',
        tension: .35,
        fill: true,
        pointRadius: 0
      }
    ]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    plugins: {
      legend: {
        labels: {
          font: { family:'Segoe UI', size:11 }, color:'#e5e7eb'
        }
      }
    },
    scales: {
      x:{ grid:{color:'rgba(30,64,175,0.35)'},
        ticks:{font:{family:'Segoe UI',size:11},color:'#9ca3af'} },
      y:{ grid:{color:'rgba(30,64,175,0.35)'},
        ticks:{font:{family:'Segoe UI',size:11},color:'#9ca3af',
          callback:v=>v.toLocaleString('cs-CZ')+' ‚Ç¨'} }
    }
  }
});
window.perfMainChart = perfMainChart;


// ================== BAR ‚Äì VRSTVY MOTORU 1‚Äì7 ==================
const layersCtx = document.getElementById('layersChart').getContext('2d');
const layersChart = new Chart(layersCtx, {
  type:'bar',
  data:{
    labels:['L1','L2','L3','L4','L5','L6','L7'],
    datasets:[{
      data:[5.2,5.8,5.4,4.3,5.0,6.1,4.7],
      backgroundColor:[
        '#22c55e','#4fa3ff','#8b5cf6','#facc15',
        '#f97316','#0ea5e9','#6b7280'
      ]
    }]
  },
  options:{
    responsive:true,
    maintainAspectRatio:false,
    plugins:{legend:{display:false}},
    scales:{
      x:{ grid:{display:false},
        ticks:{font:{family:'Segoe UI',size:11},color:'#9ca3af'}},
      y:{ beginAtZero:true, suggestedMax:7,
        grid:{color:'rgba(30,64,175,0.35)'},
        ticks:{font:{family:'Segoe UI',size:11},color:'#9ca3af',
        callback:v=>v+' %'}}
    }
  }
});
window.layersChart = layersChart;


// ================== ANIMAƒåN√ç ENGINE ‚Äì SKUTEƒåN√ù POHYB üî• ==================
function animateValue(from,to,duration,onUpdate){
  const start=performance.now();
  function frame(time){
    const p=Math.min((time-start)/duration,1);
    const eased=from+(to-from)*(0.5-0.5*Math.cos(Math.PI*p));
    onUpdate(eased);
    if(p<1) requestAnimationFrame(frame);
  }
  requestAnimationFrame(frame);
}

setInterval(()=>{
  if(!window.perfMainChart || !window.layersChart) return;

  // ===== Hlavn√≠ k≈ôivka ‚Äì jemn√Ω ≈æiv√Ω r≈Øst/d√Ωch√°n√≠ =====
  const d=perfMainChart.data.datasets[0].data;
  const last=d[d.length-1]||11200;
  const target=last+(Math.random()*180-90);

  animateValue(last,target,900,(v)=>{
    d.push(v);
    if(d.length>22) d.shift();
    perfMainChart.update('none');
  });

  // ===== Bar graf ‚Äì mikropohyby vrstev =====
  layersChart.data.datasets[0].data=
    layersChart.data.datasets[0].data.map(v=>v+(Math.random()-0.5)*0.05);

  layersChart.update('none');

},1300);
</script>
</body>
</html>

</body>
</html>
