<!DOCTYPE html>
<html lang="cs">
<head>
 <meta charset="UTF-8" />
 <title>AYAS-7 – Přihlášení</title>
 <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- FAVICON / PWA -->
  <link rel="icon" type="image/png" sizes="192x192" href="/ayas7-192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="/ayas7-512.png">
  <link rel="apple-touch-icon" href="/ayas7-192.png">
  <meta name="theme-color" content="#020617">

  <title>AYAS-7 · …</title>
 <style>
   :root {
     --blue-dark: #0a1a33;
     --blue-mid: #124c99;
     --blue-light: #4fa3ff;
     --bg-page: #020617;
     --card-bg: #0b1220;
     --border-soft: rgba(148, 163, 184, 0.4);
     --text-main: #e5e7eb;
     --text-muted: #9ca3af;
     --accent: #22c55e;
   }

   * {
     box-sizing: border-box;
     margin: 0;
     padding: 0;
   }

   html, #msg_body {
     width: 100%;
     height: 100%;
     font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
     background: radial-gradient(circle at 40% 0%, #0f172a 0%, #020617 55%, #000 100%);
     color: var(--text-main);
     overflow-x: hidden;
   }

   a {
     text-decoration: none;
     color: inherit;
   }

   /* TOP BAR / MENU */
   header.topbar {
     background: linear-gradient(to right, #060b16, #0a1a33);
     color: #fff;
     padding: 10px 0;
     border-bottom: 1px solid rgba(15, 23, 42, 0.9);
   }

   .topbar-inner {
     max-width: 1200px;
     margin: 0 auto;
     padding: 0 16px;
     display: flex;
     align-items: center;
     justify-content: space-between;
     gap: 24px;
   }

   /* LEVÁ ČÁST – textová značka (bez loga) */
   .brand {
     display: flex;
     flex-direction: column;
     gap: 2px;
     min-width: 0;
   }

   .brand-text-main {
     font-size: 18px;
     font-weight: 600;
     letter-spacing: 0.06em;
     text-transform: uppercase;
     white-space: nowrap;
   }

   .brand-text-sub {
     font-size: 11px;
     text-transform: uppercase;
     letter-spacing: 0.18em;
     color: rgba(226, 232, 240, 0.75);
   }

   /* STŘED – hlavní menu (3 položky) */
   nav.main-nav {
     display: flex;
     align-items: center;
     justify-content: center;
     flex: 1;
     min-width: 0;
   }

   .nav-list {
     display: flex;
     align-items: center;
     justify-content: center;
     gap: 22px;
     list-style: none;
     margin: 0;
     padding: 0;
     font-size: 14px;
   }

   .nav-link {
     position: relative;
     padding: 4px 0;
     color: rgba(226, 232, 240, 0.86);
     transition: color 0.18s ease;
     white-space: nowrap;
   }

   .nav-link::after {
     content: "";
     position: absolute;
     left: 0;
     bottom: -3px;
     width: 0;
     height: 2px;
     border-radius: 999px;
     background: linear-gradient(to right, #22c55e, #4ade80);
     transition: width 0.22s ease;
   }

   .nav-link:hover {
     color: #ffffff;
   }

   .nav-link:hover::after {
     width: 100%;
   }

   .nav-link.active {
     color: #ffffff;
     font-weight: 600;
   }

   .nav-link.active::after {
     width: 100%;
   }

   /* PRAVÁ ČÁST – jazyk + login */
   .topbar-right {
     display: flex;
     align-items: center;
     gap: 16px;
     flex-shrink: 0;
   }

   .lang-switch {
     font-size: 12px;
     letter-spacing: 0.12em;
     text-transform: uppercase;
     color: rgba(226, 232, 240, 0.8);
     display: flex;
     align-items: center;
     gap: 6px;
     white-space: nowrap;
   }

   .lang-switch span {
     cursor: pointer;
     opacity: 0.65;
   }

   .lang-switch span.active {
     opacity: 1;
     font-weight: 600;
     text-decoration: underline;
     text-underline-offset: 3px;
   }

   .lang-sep {
     opacity: 0.4;
   }

   .btn-login {
     padding: 6px 16px;
     border-radius: 999px;
     border: 1px solid rgba(226, 232, 240, 0.6);
     background: rgba(15, 23, 42, 0.18);
     color: #f9fafb;
     font-size: 13px;
     font-weight: 500;
     cursor: pointer;
     display: inline-flex;
     align-items: center;
     gap: 8px;
     transition: background 0.18s ease, border-color 0.18s ease, transform 0.12s ease;
     white-space: nowrap;
   }

   .btn-login span.dot {
     width: 8px;
     height: 8px;
     border-radius: 999px;
     background: var(--accent);
     box-shadow: 0 0 8px rgba(34, 197, 94, 0.9);
   }

   .btn-login:hover {
     background: rgba(15, 23, 42, 0.35);
     border-color: #ffffff;
     transform: translateY(-1px);
   }

   .btn-login:active {
     transform: translateY(0);
   }

   /* HLAVNÍ OBSAH – login karta */
   main {
     min-height: calc(100vh - 72px - 50px);
     display: flex;
     align-items: center;
     justify-content: center;
     padding: 40px 16px 32px;
   }

   .login-wrapper {
     max-width: 420px;
     width: 100%;
     background: radial-gradient(circle at top left, #0b1120 0, #020617 60%);
     border-radius: 18px;
     border: 1px solid rgba(148, 163, 184, 0.4);
     box-shadow:
       0 24px 60px rgba(15, 23, 42, 0.85),
       0 0 0 1px rgba(15, 23, 42, 0.8);
     padding: 24px 22px 20px;
   }

   .login-badge {
     display: inline-flex;
     align-items: center;
     gap: 6px;
     padding: 2px 10px;
     border-radius: 999px;
     border: 1px solid rgba(148, 163, 184, 0.5);
     font-size: 11px;
     color: var(--text-muted);
     margin-bottom: 10px;
   }

   .login-badge-dot {
     width: 7px;
     height: 7px;
     border-radius: 999px;
     background: var(--accent);
     box-shadow: 0 0 8px rgba(34, 197, 94, 0.9);
   }

   .login-title {
     font-size: 22px;
     font-weight: 600;
     margin: 0 0 4px;
   }

   .login-subtitle {
     font-size: 13px;
     color: var(--text-muted);
     margin: 0 0 14px;
   }

   /* NOVÝ INFO BLOK PRO NOVÉHO ČLENA */
   .login-intro {
     margin-bottom: 16px;
     padding: 10px 10px 8px;
     border-radius: 12px;
     border: 1px solid rgba(148, 163, 184, 0.45);
     background: radial-gradient(circle at top left, rgba(15,23,42,0.95), rgba(15,23,42,0.75));
   }

   .login-intro-header {
     display: flex;
     align-items: center;
     gap: 8px;
     font-size: 12px;
     margin-bottom: 6px;
     color: var(--text-main);
   }

   .login-intro-dot {
     width: 7px;
     height: 7px;
     border-radius: 999px;
     background: var(--blue-light);
     box-shadow: 0 0 10px rgba(79, 163, 255, 1);
   }

   .login-intro-text {
     font-size: 12px;
     color: var(--text-muted);
     line-height: 1.55;
   }

   .login-intro-text b {
     color: var(--text-main);
     font-weight: 600;
   }

   .form-group {
     margin-bottom: 12px;
   }

   .form-label {
     display: block;
     font-size: 12px;
     color: var(--text-muted);
     margin-bottom: 4px;
   }

   .form-input {
     width: 100%;
     padding: 8px 10px;
     border-radius: 8px;
     border: 1px solid var(--border-soft);
     background: rgba(15, 23, 42, 0.7);
     color: var(--text-main);
     font-size: 13px;
     outline: none;
     transition: border-color 0.16s ease, box-shadow 0.16s ease, background 0.16s ease;
   }

   .form-input::placeholder {
     color: rgba(148, 163, 184, 0.7);
   }

   .form-input:focus {
     border-color: var(--blue-light);
     box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.6);
     background: rgba(15, 23, 42, 0.95);
   }

   .form-row-between {
     display: flex;
     align-items: center;
     justify-content: space-between;
     gap: 8px;
     margin-bottom: 16px;
   }

   .form-check {
     display: flex;
     align-items: center;
     gap: 6px;
     font-size: 12px;
     color: var(--text-muted);
   }

   .form-check input[type="checkbox"] {
     width: 14px;
     height: 14px;
     border-radius: 4px;
     border: 1px solid var(--border-soft);
     background: transparent;
     accent-color: var(--accent);
     cursor: pointer;
   }

   .link-small {
     font-size: 12px;
     color: var(--blue-light);
     cursor: pointer;
     white-space: nowrap;
   }

   .link-small:hover {
     text-decoration: underline;
     text-underline-offset: 3px;
   }

   .btn-submit {
     width: 100%;
     padding: 9px 14px;
     border-radius: 999px;
     border: none;
     background: linear-gradient(to right, #22c55e, #4ade80);
     color: #020617;
     font-weight: 600;
     font-size: 14px;
     cursor: pointer;
     margin-bottom: 10px;
     box-shadow: 0 18px 40px rgba(22, 163, 74, 0.6);
     transition: transform 0.12s ease, box-shadow 0.12s ease, filter 0.12s ease;
   }

   .btn-submit:hover {
     filter: brightness(1.03);
     transform: translateY(-1px);
     box-shadow: 0 22px 52px rgba(22, 163, 74, 0.75);
   }

   .btn-submit:active {
     transform: translateY(0);
     box-shadow: 0 16px 36px rgba(22, 163, 74, 0.5);
   }

   .login-footer-text {
     font-size: 12px;
     color: var(--text-muted);
     text-align: center;
     margin-top: 6px;
   }

   .login-footer-text a {
     color: var(--blue-light);
   }

   .login-footer-text a:hover {
     text-decoration: underline;
     text-underline-offset: 3px;
   }

   /* Footer stránky */
   footer {
     text-align: center;
     padding: 10px 16px 16px;
     font-size: 11px;
     color: var(--text-muted);
   }

   /* RESPONSIVE */
   @media (max-width: 900px) {
     .topbar-inner {
       flex-wrap: wrap;
       row-gap: 8px;
     }
     nav.main-nav {
       order: 3;
       width: 100%;
       justify-content: flex-start;
     }
     .nav-list {
       flex-wrap: wrap;
       row-gap: 4px;
     }
   }

   @media (max-width: 640px) {
     .topbar-inner {
       flex-direction: column;
       align-items: flex-start;
     }

     nav.main-nav {
       width: 100%;
     }

     .nav-list {
       font-size: 13px;
       gap: 14px;
     }

     .topbar-right {
       align-self: stretch;
       justify-content: space-between;
       width: 100%;
     }

     .brand-text-main {
       font-size: 16px;
     }

     .login-wrapper {
       padding: 20px 16px 18px;
     }
   }
 </style>
</head>
<body>

 
 <header class="topbar">
   <div class="topbar-inner">

     
     <div class="brand">
       <div class="brand-text-main">AYAS-7 Engine</div>
       <div class="brand-text-sub">WIN-WIN COOPERATIVE</div>
     </div>

     
     <nav class="main-nav" aria-label="Hlavní menu">
       <ul class="nav-list">
         <li><a href="dashboard.html"   class="nav-link">Home</a></li>
         <li><a href="members.html"     class="nav-link">Členská sekce</a></li>
         <li><a href="performance.html" class="nav-link">Výkon &amp; výnos</a></li>
       </ul>
     </nav>

     
     <div class="topbar-right">
       <div class="lang-switch" aria-label="Přepnutí jazyka">
         <span class="active">CZ</span>
         <span class="lang-sep">|</span>
         <span>EN</span>
       </div>
       <a href="login.html">
         <button type="button" class="btn-login">
           <span class="dot"></span>
           <span>Login</span>
         </button>
       </a>
     </div>

   </div>
 </header>

 
 <main>
  <section class="login-wrapper">
    <div class="login-badge">
      <span class="login-badge-dot"></span>
      Členská sekce · zabezpečený vstup
    </div>

    <h1 class="login-title">Přihlášení do systému AYAS-7</h1>
    <p class="login-subtitle">
      Zadej své přihlašovací údaje pro bezpečný vstup do systému AYAS-7.
    </p>


    <div class="login-intro">
  <div class="login-intro-header">
    <span class="login-intro-dot"></span>
    <span>Jak proces funguje?</span>
  </div>
  <p class="login-intro-text">
    Vytváříš si svůj osobní přístup do systému <b>AYAS-7</b>.
    Po odeslání žádosti je účet veden ve stavu
    <b>čekající (pending)</b>.
    <br><br>
    Po schválení se do systému přihlašuješ
    <b>svým e-mailem a heslem</b> a získáš přístup
    k členské sekci, kde probíhají další kroky členství.
  </p>
</div>


    <form id="registerForm">

  <!-- JMÉNO -->
  <div class="form-group">
    <label class="form-label" for="name">Jméno a příjmení</label>
    <input
      id="name"
      type="text"
      class="form-input"
      placeholder="např. Jan Novák"
      required
    />
  </div>

  <!-- E-MAIL -->
  <div class="form-group">
    <label class="form-label" for="login-identity">E-mail</label>
    <input
      id="login-identity"
      type="email"
      class="form-input"
      placeholder="např. jan.novy@example.com"
      required
    />
  </div>

  <!-- HESLO (zatím jen evidenční) -->
  <div class="form-group">
    <label class="form-label" for="login-password">Heslo</label>
    <input
      id="login-password"
      type="password"
      class="form-input"
      placeholder="Zvol si heslo pro budoucí přístup"
      required
    />
  </div>

  <button type="submit" class="btn-submit">
    Odeslat žádost o přístup
  </button>

<div style="margin-top:14px;text-align:center;font-size:13px;">
  <a
    href="#"
    id="forgotPassword"
    style="color:#9ca3af;text-decoration:underline;cursor:pointer;"
  >
    Zapomněl(a) jsem heslo
  </a>
</div>



  <div class="login-footer-text">
    Odesláním žádosti souhlasíš se zpracováním údajů
    pro účely členství v družstvu Win-Win.
  </div>

</form>

  </section>
</main>


 <footer>
   © 2025 Win-Win Družstvo · AYAS-7 Engine · Všechna práva vyhrazena
 </footer>
<script type="module">
import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";

const supabase = createClient(
  "https://hurayrwshmsvsylhwlbj.supabase.co",
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh1cmF5cndzaG1zdnN5bGh3bGJqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQyMTk4MzEsImV4cCI6MjA3OTc5NTgzMX0.Q0KpZX_Dln9_9OwZcCty-bbyw8drX84ax098Uy03VUI"
);

// -------------------------
// SIGN IN
// -------------------------
const form = document.getElementById("registerForm");
const btn = document.querySelector(".btn-submit");

form.addEventListener("submit", async (e) => {
  e.preventDefault();

  const email = document.getElementById("login-identity").value.trim();
  const password = document.getElementById("login-password").value;

  if (!email || !password) {
    alert("Vyplň e-mail a heslo.");
    return;
  }

  btn.disabled = true;
  btn.textContent = "Přihlašuji…";

  const { error } = await supabase.auth.signInWithPassword({
    email,
    password
  });

  if (error) {
    alert(error.message);
    btn.disabled = false;
    btn.textContent = "Přihlásit se";
    return;
  }

  // ✅ login OK
  window.location.href = "/admin.html";
});

// -------------------------
// FORGOT PASSWORD
// -------------------------
const forgot = document.getElementById("forgotPassword");

forgot.addEventListener("click", async (e) => {
  e.preventDefault();

  const email = document.getElementById("login-identity").value.trim();

  if (!email) {
    alert("Nejprve zadej svůj e-mail.");
    return;
  }

  const { error } = await supabase.auth.resetPasswordForEmail(email, {
    redirectTo: "https://ayas7.com/reset-password.html"
  });

  if (error) {
    alert("Chyba při odeslání e-mailu.");
  } else {
    alert("Odkaz pro obnovu hesla byl odeslán na e-mail.");
  }
});
</script>

</body>
</html>
